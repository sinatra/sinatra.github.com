<div class='toc'>
	<ol class='level-1'>
		<li><a href='#&%2346972;&%2350864;&%2353552;(Routes)'>&#46972;&#50864;&#53552;(Routes)</a></li>
		<ol class='level-2'>
			<li><a href='#&%2351312;&%2344148;(Conditions)'>&#51312;&#44148;(Conditions)</a></li>
			<li><a href='#&%2348152;&%2354872;&%2344050;(Return%20Values)'>&#48152;&#54872;&#44050;(Return Values)</a></li>
			<li><a href='#&%2352964;&%2349828;&%2353568;%20&%2346972;&%2350864;&%2353552;%20&%2347588;&%2352376;(Custom%20Route%20Matchers)'>&#52964;&#49828;&#53568; &#46972;&#50864;&#53552; &#47588;&#52376;(Custom Route Matchers)</a></li>
		</ol>
		<li><a href='#&%2351221;&%2351201;%20&%2354028;&%2351068;(Static%20Files)'>&#51221;&#51201; &#54028;&#51068;(Static Files)</a></li>
		<li><a href='#&%2348624;%20/%20&%2353596;&%2354540;&%2347551;(Views%20/%20Templates)'>&#48624; / &#53596;&#54540;&#47551;(Views / Templates)</a></li>
		<ol class='level-2'>
			<li><a href='#&%2344032;&%2345733;&%2354620;%20&%2353596;&%2354540;&%2347551;%20&%2350616;&%2350612;&%2346308;(Available%20Template%20Languages)'>&#44032;&#45733;&#54620; &#53596;&#54540;&#47551; &#50616;&#50612;&#46308;(Available Template Languages)</a></li>
			<li><a href='#Haml%20&%2353596;&%2354540;&%2347551;'>Haml &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Erb%20&%2353596;&%2354540;&%2347551;'>Erb &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Builder%20&%2353596;&%2354540;&%2347551;'>Builder &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Nokogiri%20&%2353596;&%2354540;&%2347551;'>Nokogiri &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Sass%20&%2353596;&%2354540;&%2347551;'>Sass &#53596;&#54540;&#47551;</a></li>
			<li><a href='#SCSS%20&%2353596;&%2354540;&%2347551;'>SCSS &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Less%20&%2353596;&%2354540;&%2347551;'>Less &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Liquid%20&%2353596;&%2354540;&%2347551;'>Liquid &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Markdown%20&%2353596;&%2354540;&%2347551;'>Markdown &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Textile%20&%2353596;&%2354540;&%2347551;'>Textile &#53596;&#54540;&#47551;</a></li>
			<li><a href='#RDoc%20&%2353596;&%2354540;&%2347551;'>RDoc &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Radius%20&%2353596;&%2354540;&%2347551;'>Radius &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Markaby%20&%2353596;&%2354540;&%2347551;'>Markaby &#53596;&#54540;&#47551;</a></li>
			<li><a href='#RABL%20&%2353596;&%2354540;&%2347551;'>RABL &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Slim%20&%2353596;&%2354540;&%2347551;'>Slim &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Creole%20&%2353596;&%2354540;&%2347551;'>Creole &#53596;&#54540;&#47551;</a></li>
			<li><a href='#CoffeeScript%20&%2353596;&%2354540;&%2347551;'>CoffeeScript &#53596;&#54540;&#47551;</a></li>
			<li><a href='#Yajl%20&%2353596;&%2354540;&%2347551;'>Yajl &#53596;&#54540;&#47551;</a></li>
			<li><a href='#&%2345236;&%2351109;&%2346108;(Embedded)%20&%2353596;&%2354540;&%2347551;'>&#45236;&#51109;&#46108;(Embedded) &#53596;&#54540;&#47551;</a></li>
			<li><a href='#&%2353596;&%2354540;&%2347551;&%2350640;&%2349436;%20&%2348320;&%2349688;&%2350640;%20&%2351217;&%2344540;&%2354616;&%2344592;'>&#53596;&#54540;&#47551;&#50640;&#49436; &#48320;&#49688;&#50640; &#51217;&#44540;&#54616;&#44592;</a></li>
			<li><a href='#&%2351064;&%2346972;&%2351064;%20&%2353596;&%2354540;&%2347551;'>&#51064;&#46972;&#51064; &#53596;&#54540;&#47551;</a></li>
			<li><a href='#&%2351060;&%2347492;&%2351012;%20&%2344032;&%2351648;&%2345716;%20&%2353596;&%2354540;&%2347551;(Named%20Templates)'>&#51060;&#47492;&#51012; &#44032;&#51648;&#45716; &#53596;&#54540;&#47551;(Named Templates)</a></li>
			<li><a href='#&%2354028;&%2351068;%20&%2354869;&%2351109;&%2351088;%20&%2350672;&%2344208;&%2354616;&%2344592;'>&#54028;&#51068; &#54869;&#51109;&#51088; &#50672;&#44208;&#54616;&#44592;</a></li>
			<li><a href='#&%2345208;&%2347564;&%2351032;%20&%2344256;&%2350976;&%2354620;%20&%2353596;&%2354540;&%2347551;%20&%2350644;&%2351652;%20&%2352628;&%2344032;&%2354616;&%2344592;'>&#45208;&#47564;&#51032; &#44256;&#50976;&#54620; &#53596;&#54540;&#47551; &#50644;&#51652; &#52628;&#44032;&#54616;&#44592;</a></li>
		</ol>
		<li><a href='#&%2354596;&%2353552;(Filters)'>&#54596;&#53552;(Filters)</a></li>
		<li><a href='#&%2354764;&%2354140;(Helpers)'>&#54764;&#54140;(Helpers)</a></li>
		<ol class='level-2'>
			<li><a href='#&%2349464;&%2349496;(Sessions)%20&%2349324;&%2350857;&%2354616;&%2344592;'>&#49464;&#49496;(Sessions) &#49324;&#50857;&#54616;&#44592;</a></li>
			<li><a href='#&%2351473;&%2345800;&%2354616;&%2344592;(Halting)'>&#51473;&#45800;&#54616;&#44592;(Halting)</a></li>
			<li><a href='#&%2345336;&%2344592;&%2344592;(Passing)'>&#45336;&#44592;&#44592;(Passing)</a></li>
			<li><a href='#&%2345796;&%2347480;%20&%2346972;&%2350864;&%2353552;%20&%2348512;&%2347476;&%2344592;(Triggering%20Another%20Route)'>&#45796;&#47480; &#46972;&#50864;&#53552; &#48512;&#47476;&#44592;(Triggering Another Route)</a></li>
			<li><a href='#&%2348376;&%2347928;,%20&%2349345;&%2353468;%20&%2353076;&%2346300;%20&%2348143;%20&%2354756;&%2345908;%20&%2349444;&%2351221;&%2354616;&%2344592;'>&#48376;&#47928;, &#49345;&#53468; &#53076;&#46300; &#48143; &#54756;&#45908; &#49444;&#51221;&#54616;&#44592;</a></li>
			<li><a href='#&%2351025;&%2345813;%20&%2349828;&%2353944;&%2347532;&%2348141;(Streaming%20Responses)'>&#51025;&#45813; &#49828;&#53944;&#47532;&#48141;(Streaming Responses)</a></li>
			<li><a href='#&%2347196;&%2344613;(Logging)'>&#47196;&#44613;(Logging)</a></li>
			<li><a href='#&%2347560;&%2351076;%20&%2353440;&%2351077;(Mime%20Types)'>&#47560;&#51076; &#53440;&#51077;(Mime Types)</a></li>
			<li><a href='#URL%20&%2349373;&%2349457;&%2354616;&%2344592;'>URL &#49373;&#49457;&#54616;&#44592;</a></li>
			<li><a href='#&%2348652;&%2346972;&%2350864;&%2351200;%20&%2351116;&%2351648;&%2351221;(Browser%20Redirect)'>&#48652;&#46972;&#50864;&#51200; &#51116;&#51648;&#51221;(Browser Redirect)</a></li>
			<li><a href='#&%2352880;&%2349884;%20&%2352968;&%2353944;&%2347204;(Cache%20Control)'>&#52880;&#49884; &#52968;&#53944;&#47204;(Cache Control)</a></li>
			<li><a href='#&%2354028;&%2351068;%20&%2351204;&%2349569;&%2354616;&%2344592;(Sending%20Files)'>&#54028;&#51068; &#51204;&#49569;&#54616;&#44592;(Sending Files)</a></li>
			<li><a href='#&%2350836;&%2352397;%20&%2344061;&%2352404;&%2350640;%20&%2351217;&%2344540;&%2354616;&%2344592;(Accessing%20the%20Request%20Object)'>&#50836;&#52397; &#44061;&#52404;&#50640; &#51217;&#44540;&#54616;&#44592;(Accessing the Request Object)</a></li>
			<li><a href='#&%2352392;&%2348512;(Attachments)'>&#52392;&#48512;(Attachments)</a></li>
			<li><a href='#&%2345216;&%2351676;&%2350752;%20&%2349884;&%2344036;%20&%2345796;&%2347336;&%2344592;'>&#45216;&#51676;&#50752; &#49884;&#44036; &#45796;&#47336;&#44592;</a></li>
			<li><a href='#&%2353596;&%2354540;&%2347551;%20&%2354028;&%2351068;%20&%2352280;&%2351312;&%2354616;&%2344592;'>&#53596;&#54540;&#47551; &#54028;&#51068; &#52280;&#51312;&#54616;&#44592;</a></li>
		</ol>
		<li><a href='#&%2349444;&%2351221;(Configuration)'>&#49444;&#51221;(Configuration)</a></li>
		<ol class='level-2'>
			<li><a href='#&%2344277;&%2344201;%20&%2348169;&%2350612;%20&%2349444;&%2351221;&%2354616;&%2344592;(Configuring%20attack%20protection)'>&#44277;&#44201; &#48169;&#50612; &#49444;&#51221;&#54616;&#44592;(Configuring attack protection)</a></li>
			<li><a href='#&%2344032;&%2345733;&%2354620;%20&%2349444;&%2351221;&%2346308;(Available%20Settings)'>&#44032;&#45733;&#54620; &#49444;&#51221;&#46308;(Available Settings)</a></li>
		</ol>
		<li><a href='#&%2354872;&%2344221;(Environments)'>&#54872;&#44221;(Environments)</a></li>
		<li><a href='#&%2350696;&%2350808;%20&%2352376;&%2347532;(Error%20Handling)'>&#50696;&#50808; &#52376;&#47532;(Error Handling)</a></li>
		<ol class='level-2'>
			<li><a href='#&%2352286;&%2351012;%20&%2349688;%20&%2350630;&%2351020;(Not%20Found)'>&#52286;&#51012; &#49688; &#50630;&#51020;(Not Found)</a></li>
			<li><a href='#&%2350724;&%2347448;(Error)'>&#50724;&#47448;(Error)</a></li>
		</ol>
		<li><a href='#Rack%20&%2348120;&%2346308;&%2350920;&%2350612;(Rack%20Middleware)'>Rack &#48120;&#46308;&#50920;&#50612;(Rack Middleware)</a></li>
		<li><a href='#&%2353580;&%2349828;&%2354021;(Testing)'>&#53580;&#49828;&#54021;(Testing)</a></li>
		<li><a href='#Sinatra::Base%20-%20&%2348120;&%2346308;&%2350920;&%2350612;(Middleware),%20&%2346972;&%2351060;&%2348652;&%2347084;&%2347532;(Libraries),%20&%2344536;&%2347532;&%2344256;%20&%2347784;&%2346280;%20&%2350545;(Modular%20Apps)'>Sinatra::Base - &#48120;&#46308;&#50920;&#50612;(Middleware), &#46972;&#51060;&#48652;&#47084;&#47532;(Libraries), &#44536;&#47532;&#44256; &#47784;&#46280; &#50545;(Modular Apps)</a></li>
		<ol class='level-2'>
			<li><a href='#&%2347784;&%2346280;(Modular)%20vs.%20&%2351204;&%2353685;&%2351201;%20&%2348169;&%2349885;(Classic%20Style)'>&#47784;&#46280;(Modular) vs. &#51204;&#53685;&#51201; &#48169;&#49885;(Classic Style)</a></li>
			<li><a href='#&%2347784;&%2346280;%20&%2350528;&%2354540;&%2347532;&%2352992;&%2351060;&%2349496;(Modular%20Application)%20&%2351228;&%2344277;&%2354616;&%2344592;'>&#47784;&#46280; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;(Modular Application) &#51228;&#44277;&#54616;&#44592;</a></li>
			<li><a href='#config.ru&%2347196;%20&%2351204;&%2353685;&%2351201;%20&%2348169;&%2349885;&%2351032;%20&%2350528;&%2354540;&%2347532;&%2352992;&%2351060;&%2349496;%20&%2349324;&%2350857;&%2354616;&%2344592;'>config.ru&#47196; &#51204;&#53685;&#51201; &#48169;&#49885;&#51032; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#49324;&#50857;&#54616;&#44592;</a></li>
			<li><a href='#&%2350616;&%2351228;%20config.ru&%2347484;%20&%2349324;&%2350857;&%2354624;&%2344620;?'>&#50616;&#51228; config.ru&#47484; &#49324;&#50857;&#54624;&#44620;?</a></li>
			<li><a href='#Sinatra&%2347484;%20&%2348120;&%2346308;&%2350920;&%2350612;&%2347196;%20&%2349324;&%2350857;&%2354616;&%2344592;'>Sinatra&#47484; &#48120;&#46308;&#50920;&#50612;&#47196; &#49324;&#50857;&#54616;&#44592;</a></li>
			<li><a href='#&%2346041;&%2351201;&%2351064;%20&%2350528;&%2354540;&%2347532;&%2352992;&%2351060;&%2349496;%20&%2349373;&%2349457;(Dynamic%20Application%20Creation)'>&#46041;&#51201;&#51064; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#49373;&#49457;(Dynamic Application Creation)</a></li>
		</ol>
		<li><a href='#&%2348276;&%2350948;(Scopes)&%2350752;%20&%2348148;&%2351064;&%2346377;(Binding)'>&#48276;&#50948;(Scopes)&#50752; &#48148;&#51064;&#46377;(Binding)</a></li>
		<ol class='level-2'>
			<li><a href='#&%2350528;&%2354540;&%2347532;&%2352992;&%2351060;&%2349496;/&%2353364;&%2347000;&%2349828;%20&%2348276;&%2350948;'>&#50528;&#54540;&#47532;&#52992;&#51060;&#49496;/&#53364;&#47000;&#49828; &#48276;&#50948;</a></li>
			<li><a href='#&%2350836;&%2352397;/&%2351064;&%2349828;&%2353556;&%2349828;%20&%2348276;&%2350948;'>&#50836;&#52397;/&#51064;&#49828;&#53556;&#49828; &#48276;&#50948;</a></li>
			<li><a href='#&%2350948;&%2351076;%20&%2348276;&%2350948;(Delegation%20Scope)'>&#50948;&#51076; &#48276;&#50948;(Delegation Scope)</a></li>
		</ol>
		<li><a href='#&%2347749;&%2347161;&%2354665;(Command%20Line)'>&#47749;&#47161;&#54665;(Command Line)</a></li>
		<li><a href='#&%2350836;&%2344396;&%2349324;&%2354637;(Requirement)'>&#50836;&#44396;&#49324;&#54637;(Requirement)</a></li>
		<li><a href='#&%2352572;&%2349888;(The%20Bleeding%20Edge)'>&#52572;&#49888;(The Bleeding Edge)</a></li>
		<ol class='level-2'>
			<li><a href='#Bundler&%2347484;%20&%2349324;&%2350857;&%2354616;&%2350668;'>Bundler&#47484; &#49324;&#50857;&#54616;&#50668;</a></li>
			<li><a href='#&%2351649;&%2351217;%20&%2354616;&%2344592;(Roll%20Your%20Own)'>&#51649;&#51217; &#54616;&#44592;(Roll Your Own)</a></li>
			<li><a href='#&%2351204;&%2350669;&%2351004;&%2347196;%20&%2349444;&%2352824;(Install%20Globally)'>&#51204;&#50669;&#51004;&#47196; &#49444;&#52824;(Install Globally)</a></li>
		</ol>
		<li><a href='#&%2348260;&%2351200;&%2345789;(Versioning)'>&#48260;&#51200;&#45789;(Versioning)</a></li>
		<li><a href='#&%2345908;%20&%2351069;&%2351012;%20&%2344144;&%2347532;(Further%20Reading)'>&#45908; &#51069;&#51012; &#44144;&#47532;(Further Reading)</a></li>
	</ol>
</div>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>

<p><em>&#51452;&#51032;: &#51060; &#47928;&#49436;&#45716; &#50689;&#47928;&#54032;&#51032; &#48264;&#50669;&#48376;&#51060;&#47728; &#52572;&#49888;&#54032; &#47928;&#49436;&#50752; &#45796;&#47484; &#49688; &#51080;&#51020;.</em></p>

<p>Sinatra&#45716; &#52572;&#49548;&#54620;&#51032; &#45432;&#47141;&#51004;&#47196; &#47336;&#48708; &#44592;&#48152; &#50937; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51012; &#49888;&#49549;&#54616;&#44172; &#47564;&#46308; &#49688; &#51080;&#44172; &#54644; &#51452;&#45716; <a href="http://en.wikipedia.org/wiki/Domain-specific_language">DSL</a>&#51060;&#45796;:</p>

<pre><code class="ruby"># myapp.rb
require 'sinatra'

get '/' do
  'Hello world!'
end
</code></pre>

<p>&#45796;&#51020;&#44284; &#44057;&#51060; &#51244;&#51012; &#49444;&#52824;&#54616;&#44256; &#49892;&#54665;&#54620;&#45796;:</p>

<pre><code class="ruby">gem install sinatra
ruby myapp.rb
</code></pre>

<p>&#54869;&#51064;: http://localhost:4567</p>

<p><code>gem install thin</code>&#46020; &#54632;&#44760; &#49892;&#54665;&#54616;&#44592;&#47484; &#44428;&#51109;&#54616;&#47728;, &#44536;&#47092; &#44221;&#50864; Sinatra&#45716; thin&#51012; &#48512;&#47480;&#45796;.</p>

<a name='&%2346972;&%2350864;&%2353552;(Routes)'></a>
<h2>&#46972;&#50864;&#53552;(Routes)</h2>

<p>Sinatra&#50640;&#49436;, &#46972;&#50864;&#53552;(route)&#45716; URL-&#47588;&#52845; &#54056;&#53556;&#44284; &#49933;&#51012; &#51060;&#47336;&#45716; HTTP &#47700;&#49436;&#46300;&#45796;.
&#44033;&#44033;&#51032; &#46972;&#50864;&#53552;&#45716; &#48660;&#47197;&#44284; &#50672;&#44208;&#46108;&#45796;:</p>

<pre><code class="ruby">get '/' do
  .. &#47924;&#50616;&#44032; &#48372;&#50668;&#51452;&#44592;(show) ..
end

post '/' do
  .. &#47924;&#50616;&#44032; &#47564;&#46308;&#44592;(create) ..
end

put '/' do
  .. &#47924;&#50616;&#44032; &#45824;&#52404;&#54616;&#44592;(replace) ..
end

patch '/' do
  .. &#47924;&#50616;&#44032; &#49688;&#51221;&#54616;&#44592;(modify) ..
end

delete '/' do
  .. &#47924;&#50616;&#44032; &#50630;&#50528;&#44592;(annihilate) ..
end

options '/' do
  .. &#47924;&#50616;&#44032; &#51452;&#44592;(appease) ..
end
</code></pre>

<p>&#46972;&#50864;&#53552;&#45716; &#51221;&#51032;&#46108; &#49692;&#49436;&#50640; &#46384;&#46972; &#47588;&#52824;&#46104;&#47728; &#47588;&#52845;&#46108; &#52395; &#48264;&#51704; &#46972;&#50864;&#53552;&#44032; &#54840;&#52636;&#46108;&#45796;.</p>

<p>&#46972;&#50864;&#53552; &#54056;&#53556;&#50640;&#45716; &#51060;&#47492;&#51012; &#44032;&#51652; &#47588;&#44060;&#48320;&#49688;&#44032; &#54252;&#54632;&#46112; &#49688;&#51080;&#51004;&#47728;, <code>params</code> &#54644;&#49884;&#47196; &#51217;&#44540;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/hello/:name' do
  # "GET /hello/foo" &#48143; "GET /hello/bar"&#50752; &#47588;&#52824;
  # params[:name]&#51008; 'foo' &#46608;&#45716; 'bar'
  "Hello #{params[:name]}!"
end
</code></pre>

<p>&#46608;&#54620; &#48660;&#47197; &#47588;&#44060;&#48320;&#49688;&#47484; &#53685;&#54616;&#50668;&#46020; &#51060;&#47492;&#51012; &#44032;&#51652; &#47588;&#44060;&#48320;&#49688;&#50640; &#51217;&#44540;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/hello/:name' do |n|
  "Hello #{n}!"
end
</code></pre>

<p>&#46972;&#50864;&#53552; &#54056;&#53556;&#50640;&#45716; &#49828;&#54540;&#47019;(splat, &#46608;&#45716; &#50752;&#51068;&#46300;&#52852;&#46300;)&#46020; &#54252;&#54632;&#46112; &#49688; &#51080;&#51004;&#47728;, &#51060;&#47092; &#44221;&#50864; <code>params[:splat]</code> &#48176;&#50676;&#47196; &#51217;&#44540;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/say/*/to/*' do
  # /say/hello/to/world&#50752; &#47588;&#52824;
  params[:splat] # =&gt; ["hello", "world"]
end

get '/download/*.*' do
  # /download/path/to/file.xml&#44284; &#47588;&#52824;
  params[:splat] # =&gt; ["path/to/file", "xml"]
end
</code></pre>

<p>&#46608;&#45716; &#48660;&#47197; &#47588;&#44060;&#48320;&#49688;&#46020; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">get '/download/*.*' do |path, ext|
  [path, ext] # =&gt; ["path/to/file", "xml"]
end
</code></pre>

<p>&#51221;&#44508;&#54364;&#54788;&#49885;&#51012; &#51060;&#50857;&#54620; &#46972;&#50864;&#53552; &#47588;&#52845;:</p>

<pre><code class="ruby">get %r{/hello/([\w]+)} do
  "Hello, #{params[:captures].first}!"
end
</code></pre>

<p>&#46608;&#45716; &#48660;&#47197; &#47588;&#44060;&#48320;&#49688;&#47196;&#46020; &#44032;&#45733;:</p>

<pre><code class="ruby">get %r{/hello/([\w]+)} do |c|
  "Hello, #{c}!"
end
</code></pre>

<p>&#46972;&#50864;&#53552; &#54056;&#53556;&#50640;&#45716; &#49440;&#53469;&#51201;&#51064;(optional) &#47588;&#44060;&#48320;&#49688;&#46020; &#50732; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/posts.?:format?' do
  # "GET /posts" &#48143; "GET /posts.json", "GET /posts.xml" &#50752; &#44057;&#51008; &#50612;&#46500; &#54869;&#51109;&#51088;&#50752;&#46020; &#47588;&#52845;
end
</code></pre>

<p>&#54620;&#54200;, &#44221;&#47196; &#53456;&#49353; &#44277;&#44201; &#48169;&#51648;(path traversal attack protection, &#50500;&#47000; &#52280;&#51312;)&#47484; &#48708;&#54876;&#49457;&#54868;&#49884;&#53412;&#51648; &#50506;&#50520;&#45796;&#47732;, 
&#50836;&#52397; &#44221;&#47196;&#45716; &#46972;&#50864;&#53552;&#50752; &#47588;&#52845;&#46104;&#44592; &#51060;&#51204;&#50640; &#49688;&#51221;&#46112; &#49688; &#51080;&#45796;.</p>

<a name='&%2351312;&%2344148;(Conditions)'></a>
<h3>&#51312;&#44148;(Conditions)</h3>

<p>&#46972;&#50864;&#53552;&#45716; &#50696;&#47484; &#46308;&#47732; &#49324;&#50857;&#51088; &#50640;&#51060;&#51204;&#53944;(user agent)&#50752; &#44057;&#51008; &#45796;&#50577;&#54620; &#47588;&#52845; &#51312;&#44148;&#51012; &#54252;&#54632;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/foo', :agent =&gt; /Songbird (\d\.\d)[\d\/]*?/ do
  "Songbird &#48260;&#51204; #{params[:agent][0]}&#51012; &#49324;&#50857;&#54616;&#45716;&#44400;&#50836;!"
end

get '/foo' do
  # songbird &#48652;&#46972;&#50864;&#51200;&#44032; &#50500;&#45772; &#44221;&#50864; &#47588;&#52824;
end
</code></pre>

<p>&#44536; &#48150;&#50640; &#45796;&#47480; &#51312;&#44148;&#51004;&#47196;&#45716; <code>host_name</code>&#44284; <code>provides</code>&#44032; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/', :host_name =&gt; /^admin\./ do
  "Admin Area, Access denied!"
end

get '/', :provides =&gt; 'html' do
  haml :index
end

get '/', :provides =&gt; ['rss', 'atom', 'xml'] do
  builder :feed
end
</code></pre>

<p>&#50668;&#47084;&#48516;&#47564;&#51032; &#51312;&#44148;&#46020; &#49789;&#44172; &#51221;&#51032;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">set(:probability) { |value| condition { rand &lt;= value } }

get '/win_a_car', :probability =&gt; 0.1 do
  "&#45236;&#44032; &#51276;&#49548;!"
end

get '/win_a_car' do
  "&#48120;&#50504;&#54644;&#49436; &#50612;&#51788;&#45208;."
end
</code></pre>

<p>&#50668;&#47084; &#44050;&#51012; &#48155;&#45716; &#51312;&#44148;&#50640;&#45716; &#49828;&#54540;&#47019;(splat)&#51012; &#49324;&#50857;&#54616;&#51088;:</p>

<pre><code class="ruby">set(:auth) do |*roles|   # &lt;- &#51060;&#44172; &#49828;&#54540;&#47019;
  condition do
    unless logged_in? &amp;&amp; roles.any? {|role| current_user.in_role? role }
      redirect "/login/", 303
    end
  end
end

get "/my/account/", :auth =&gt; [:user, :admin] do
  "&#45236; &#44228;&#51221; &#51221;&#48372;"
end

get "/only/admin/", :auth =&gt; :admin do
  "&#44288;&#47532;&#51088; &#50808; &#51217;&#44540;&#48520;&#44032;!"
end
</code></pre>

<a name='&%2348152;&%2354872;&%2344050;(Return%20Values)'></a>
<h3>&#48152;&#54872;&#44050;(Return Values)</h3>

<p>&#46972;&#50864;&#53552; &#48660;&#47197;&#51032; &#48152;&#54872;&#44050;&#51008; HTTP &#53364;&#46972;&#51060;&#50616;&#53944;&#47196; &#51204;&#45804;&#46104;&#45716; &#51025;&#45813; &#48376;&#47928;&#51012; &#44208;&#51221;&#54616;&#44144;&#45208;, &#46608;&#45716; Rack &#49828;&#53469;&#50640;&#49436; &#45796;&#51020; &#48264; &#48120;&#46308;&#50920;&#50612;&#47484; &#44208;&#51221;&#54620;&#45796;.
&#45824;&#48512;&#48516;&#51032; &#44221;&#50864;, &#51060; &#48152;&#54872;&#44050;&#51008; &#50948;&#51032; &#50696;&#51228;&#50640;&#49436; &#48372;&#46319; &#47928;&#51088;&#50676;&#51060;&#51648;&#47564;, &#45796;&#47480; &#44050;&#46020; &#44032;&#45733;&#54616;&#45796;.</p>

<p>&#50976;&#54952;&#54620; Rack &#51025;&#45813;, Rack &#48376;&#47928; &#44061;&#52404; &#46608;&#45716; HTTP &#49345;&#53468; &#53076;&#46300;&#44032; &#46104;&#45716; &#50612;&#46496;&#54620; &#44061;&#52404;&#46972;&#46020; &#48152;&#54872;&#54624; &#49688; &#51080;&#45796;:</p>

<p>&#51060;&#50640; &#46384;&#46972; &#50864;&#47532;&#45716;, &#50696;&#47484; &#46308;&#47732;, &#49828;&#53944;&#47532;&#48141;(streaming) &#50696;&#51228;&#47484; &#49789;&#44172; &#44396;&#54788;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">class Stream
  def each
100.times { |i| yield "#{i}\n" }
  end
end

get('/') { Stream.new }
</code></pre>

<p>&#51060;&#47088; &#48264;&#44144;&#47196;&#50880;&#51012; &#51460;&#51060;&#44592; &#50948;&#54644; <code>stream</code> &#54764;&#54140; &#47700;&#49436;&#46300;(&#50500;&#47000; &#52280;&#51312;)&#47484; &#49324;&#50857;&#54616;&#50668; &#49828;&#53944;&#47532;&#48141; &#47196;&#51649;&#51012; &#46972;&#50864;&#53552; &#49549;&#50640; &#46168; &#49688;&#46020; &#51080;&#45796;.</p>

<a name='&%2352964;&%2349828;&%2353568;%20&%2346972;&%2350864;&%2353552;%20&%2347588;&%2352376;(Custom%20Route%20Matchers)'></a>
<h3>&#52964;&#49828;&#53568; &#46972;&#50864;&#53552; &#47588;&#52376;(Custom Route Matchers)</h3>

<p>&#50948;&#50640;&#49436; &#48372;&#46319;, Sinatra&#50640;&#45716; &#47928;&#51088;&#50676; &#54056;&#53556; &#48143; &#51221;&#44508;&#54364;&#54788;&#49885;&#51012; &#51060;&#50857;&#54620; &#46972;&#50864;&#53552; &#47588;&#52845; &#51648;&#50896;&#51060; &#45236;&#51109;&#46104;&#50612; &#51080;&#45796;.
&#44536;&#47111;&#51648;&#47564;, &#44536;&#44172; &#45149;&#51060; &#50500;&#45768;&#45796;. &#50668;&#47084;&#48516; &#47564;&#51032; &#47588;&#52376;(matcher)&#46020; &#49789;&#44172; &#51221;&#51032;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">class AllButPattern
  Match = Struct.new(:captures)

  def initialize(except)
    @except   = except
    @captures = Match.new([])
  end

  def match(str)
    @captures unless @except === str
  end
end

def all_but(pattern)
  AllButPattern.new(pattern)
end

get all_but("/index") do
  # ...
end
</code></pre>

<p>&#49324;&#49892; &#50948;&#51032; &#50696;&#51228;&#45716; &#51312;&#44552; &#44284;&#54616;&#44172; &#51089;&#49457;&#46108; &#47732;&#51060; &#51080;&#45796;. &#45796;&#51020;&#44284; &#44057;&#51060; &#54364;&#54788;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">get // do
  pass if request.path_info == "/index"
  # ...
end
</code></pre>

<p>&#46608;&#45716; &#45348;&#44144;&#54000;&#48652; &#47337;&#50612;&#54756;&#46300;(negative look ahead)&#47484; &#49324;&#50857;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">get %r{^(?!/index$)} do
  # ...
end
</code></pre>

<a name='&%2351221;&%2351201;%20&%2354028;&%2351068;(Static%20Files)'></a>
<h2>&#51221;&#51201; &#54028;&#51068;(Static Files)</h2>

<p>&#51221;&#51201; &#54028;&#51068;&#46308;&#51008; <code>./public</code>&#50640;&#49436; &#51228;&#44277;&#46108;&#45796;.
&#50948;&#52824;&#47484; &#45796;&#47480; &#44275;&#51004;&#47196; &#48320;&#44221;&#54616;&#47140;&#47732; <code>:public_folder</code> &#50741;&#49496;&#51012; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">set :public_folder, File.dirname(__FILE__) + '/static'
</code></pre>

<p>&#51060; &#46412; public &#46356;&#47113;&#53552;&#47532;&#47749;&#51008; URL&#50640; &#54252;&#54632;&#46104;&#51648; &#50506;&#45716;&#45796;&#45716; &#51216;&#50640; &#50976;&#51032;.
<code>./public/css/style.css</code> &#54028;&#51068;&#51008; <code>http://example.com/css/style.css</code> &#47196; &#51217;&#44540;&#54624; &#49688; &#51080;&#45796;.</p>

<p><code>Cache-Control</code> &#54756;&#45908; &#51221;&#48372;&#47484; &#52628;&#44032;&#54616;&#47140;&#47732; <code>:static_cache_control</code> &#49444;&#51221;(&#50500;&#47000; &#52280;&#51312;)&#51012; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;.</p>

<a name='&%2348624;%20/%20&%2353596;&%2354540;&%2347551;(Views%20/%20Templates)'></a>
<h2>&#48624; / &#53596;&#54540;&#47551;(Views / Templates)</h2>

<p>&#44033; &#53596;&#54540;&#47551; &#50616;&#50612;&#45716; &#44536;&#46308;&#47564;&#51032; &#44256;&#50976;&#54620; &#47116;&#45908;&#47553; &#47700;&#49436;&#46300;&#47484; &#53685;&#54644; &#54364;&#52636;&#46108;&#45796;.
&#51060;&#46308; &#47700;&#49436;&#46300;&#45716; &#45800;&#49692;&#55176; &#47928;&#51088;&#50676;&#51012; &#48152;&#54872;&#54620;&#45796;.</p>

<pre><code class="ruby">get '/' do
  erb :index
end
</code></pre>

<p>&#51060; &#47700;&#49436;&#46300;&#45716; <code>views/index.erb</code>&#47484; &#47116;&#45908;&#54620;&#45796;.</p>

<p>&#53596;&#54540;&#47551; &#51060;&#47492; &#45824;&#49888; &#53596;&#54540;&#47551;&#51032; &#45236;&#50857;&#51012; &#51649;&#51217; &#51204;&#45804;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/' do
  code = "&lt;%= Time.now %&gt;"
  erb code
end
</code></pre>

<p>&#53596;&#54540;&#47551;&#51008; &#46160; &#48264;&#51704; &#51064;&#51088;&#47196; &#50741;&#49496;&#44050;&#51032; &#54644;&#49884;&#47484; &#48155;&#45716;&#45796;:</p>

<pre><code class="ruby">get '/' do
  erb :index, :layout =&gt; :post
end
</code></pre>

<p>&#51060;&#47111;&#44172; &#54616;&#47732; <code>views/post.erb</code> &#49549;&#50640; &#45236;&#51109;&#46108; <code>views/index.erb</code>&#47484; &#47116;&#45908;&#54620;&#45796;.
(&#44592;&#48376;&#44050;&#51008; <code>views/layout.erb</code>&#51060;&#47728;, &#51060; &#54028;&#51068;&#51060; &#51316;&#51116;&#54624; &#44221;&#50864;&#50640;&#47564; &#47673;&#45716;&#45796;).</p>

<p>Sinatra&#44032; &#51060;&#54644;&#54616;&#51648; &#47803;&#54616;&#45716; &#47784;&#46304; &#50741;&#49496;&#44050;&#46308;&#51008; &#53596;&#54540;&#47551; &#50644;&#51652;&#51004;&#47196; &#51204;&#45804;&#46112; &#44163;&#51060;&#45796;:</p>

<pre><code class="ruby">get '/' do
  haml :index, :format =&gt; :html5
end
</code></pre>

<p>&#50741;&#49496;&#44050;&#51008; &#53596;&#54540;&#47551; &#50616;&#50612;&#48324;&#47196; &#51068;&#48152;&#51201;&#51004;&#47196; &#49444;&#51221;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">set :haml, :format =&gt; :html5

get '/' do
  haml :index
end
</code></pre>

<p>render &#47700;&#49436;&#46300;&#50640;&#49436; &#51204;&#45804;&#46108; &#50741;&#49496;&#44050;&#46308;&#51008; <code>set</code>&#51012; &#53685;&#54644; &#49444;&#51221;&#54620; &#50741;&#49496;&#44050;&#51012; &#45934;&#50612; &#50420;&#45796;.</p>

<p>&#44032;&#45733;&#54620; &#50741;&#49496;&#44050;&#46308;:</p>

<dl>
<dt>locals</dt>
  <dd>&#47928;&#49436;&#47196; &#51204;&#45804;&#46104;&#45716; local &#47785;&#47197;. &#54028;&#49500;&#44284; &#54632;&#44760; &#49324;&#50857;&#54616;&#44592; &#51339;&#51020;.
&#50696;&#51228;: <tt>erb "", :locals =&gt; {:foo =&gt; "bar"}</tt>
  </dd>

  <dt>default_encoding</dt>
  <dd>&#48520;&#54869;&#49892;&#54620; &#44221;&#50864;&#50640; &#49324;&#50857;&#54624; &#47928;&#51088;&#50676; &#51064;&#53076;&#46377;. &#44592;&#48376;&#44050;&#51008; <tt>settings.default_encoding</tt>.</dd>

  <dt>views</dt>
  <dd>&#53596;&#54540;&#47551;&#51012; &#47196;&#46300;&#54624; &#48624; &#54260;&#45908;. &#44592;&#48376;&#44050;&#51008; <tt>settings.views</tt>.</dd>

  <dt>layout</dt>
  <dd>&#47112;&#51060;&#50500;&#50883;&#51012; &#49324;&#50857;&#54624;&#51648; &#50668;&#48512; (<tt>true</tt> &#46608;&#45716; <tt>false</tt>), &#47564;&#50557; &#51060; &#44050;&#51060; &#49900;&#48380;&#51068; &#44221;&#50864;, 
&#49324;&#50857;&#54624; &#53596;&#54540;&#47551;&#51012; &#51648;&#51221;. &#50696;&#51228;: <tt>erb :index, :layout =&gt; !request.xhr?</tt>
  </dd>

  <dt>content_type</dt>
  <dd>&#53596;&#54540;&#47551;&#51060; &#49373;&#49457;&#54616;&#45716; Content-Type, &#44592;&#48376;&#44050;&#51008; &#53596;&#54540;&#47551; &#50616;&#50612;&#50640; &#51032;&#51316;.</dd>

  <dt>scope</dt>
  <dd>&#53596;&#54540;&#47551;&#51012; &#47116;&#45908;&#47553;&#54616;&#45716; &#48276;&#50948;. &#44592;&#48376;&#44050;&#51008; &#50612;&#54540;&#47532;&#52992;&#51060;&#49496; &#51064;&#49828;&#53556;&#49828;.
&#47564;&#50557; &#51060; &#44050;&#51012; &#48320;&#44221;&#54616;&#47732;, &#51064;&#49828;&#53556;&#49828; &#48320;&#49688;&#50752; &#54764;&#54140; &#47700;&#49436;&#46300;&#46308;&#51012; &#49324;&#50857;&#54624; &#49688; &#50630;&#44172; &#46120;.</dd>

  <dt>layout_engine</dt>
  <dd>
&#47112;&#51060;&#50500;&#50883; &#47116;&#45908;&#47553;&#50640; &#49324;&#50857;&#54624; &#53596;&#54540;&#47551; &#50644;&#51652;. &#47112;&#51060;&#50500;&#50883;&#51012; &#51648;&#50896;&#54616;&#51648; &#50506;&#45716; &#50616;&#50612;&#51064; &#44221;&#50864;&#50640; &#50976;&#50857;.
&#44592;&#48376;&#44050;&#51008; &#53596;&#54540;&#47551;&#50640;&#49436; &#49324;&#50857;&#54616;&#45716; &#50644;&#51652;. &#50696;&#51228;: <tt>set :rdoc, :layout_engine =&gt; :erb</tt>
  </dd>
</dl>
<p>&#53596;&#54540;&#47551;&#51008; <code>./views</code> &#50500;&#47000;&#50640; &#45459;&#51060;&#45716; &#44163;&#51004;&#47196; &#44032;&#51221;&#46120;. &#47564;&#50557; &#48624; &#46356;&#47113;&#53552;&#47532;&#47484; &#45796;&#47480; &#44275;&#51004;&#47196; &#46160;&#47140;&#47732;:</p>

<pre><code class="ruby">set :views, settings.root + '/templates'
</code></pre>

<p>&#44845; &#50508;&#50500;&#50556; &#54624; &#51473;&#50836;&#54620; &#51216; &#54620; &#44032;&#51648;&#45716; &#53596;&#54540;&#47551;&#51008; &#50616;&#51228;&#45208; &#49900;&#48380;&#47196; &#52280;&#51312;&#46108;&#45796;&#45716; &#44163;&#51060;&#47728;,
&#53596;&#54540;&#47551;&#51060; &#54616;&#50948; &#46356;&#47113;&#53552;&#47532;&#50640; &#50948;&#52824;&#54620; &#44221;&#50864;&#46972;&#46020; &#47560;&#52268;&#44032;&#51648;&#51076;(&#44536;&#47092; &#44221;&#50864;&#50640;&#45716; <code>:'subdir/template'</code>&#51012; &#49324;&#50857;). 
&#48152;&#46300;&#49884; &#49900;&#48380;&#51060;&#50612;&#50556; &#54616;&#45716; &#51060;&#50976;&#45716;, &#47564;&#50557; &#44536;&#47111;&#44172; &#54616;&#51648; &#50506;&#51004;&#47732; &#47116;&#45908;&#47553; &#47700;&#49436;&#46300;&#44032; &#51204;&#45804;&#46108; &#47928;&#51088;&#50676;&#51012; &#51649;&#51217; &#47116;&#45908;&#54616;&#47140; &#54624; &#44163;&#51060;&#44592; &#46412;&#47928;&#51076;.</p>

<a name='&%2344032;&%2345733;&%2354620;%20&%2353596;&%2354540;&%2347551;%20&%2350616;&%2350612;&%2346308;(Available%20Template%20Languages)'></a>
<h3>&#44032;&#45733;&#54620; &#53596;&#54540;&#47551; &#50616;&#50612;&#46308;(Available Template Languages)</h3>

<p>&#51068;&#48512; &#50616;&#50612;&#45716; &#50668;&#47084; &#44060;&#51032; &#44396;&#54788;&#51060; &#51080;&#51020;. &#50612;&#45712; &#44396;&#54788;&#51012; &#49324;&#50857;&#54624;&#51648; &#51200;&#51221;&#54616;&#47140;&#47732;(&#44536;&#47532;&#44256; &#49828;&#47112;&#46300;-&#50504;&#51204;thread-safe &#47784;&#46300;&#47196; &#54616;&#47140;&#47732;),
&#47676;&#51200; require &#49884;&#53412;&#44592;&#47564; &#54616;&#47732; &#46120;:</p>

<pre><code class="ruby">require 'rdiscount' # or require 'bluecloth'
get('/') { markdown :index }
</code></pre>

<a name='Haml%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Haml &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://haml.info/">haml</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.haml</tt></td>
  </tr>
<tr>
<td>&#50696;</td>
<td><tt>haml :index, :format =&gt; :html5</tt></td>
  </tr>
</table>
<a name='Erb%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Erb &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td>
<a href="http://www.kuwata-lab.com/erubis/">erubis</a> &#46608;&#45716; erb (&#47336;&#48708; &#49549;&#50640; &#54252;&#54632;)</td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td>
<tt>.erb</tt>, <tt>.rhtml</tt> &#46608;&#45716; <tt>.erubis</tt> (Erubis&#47564; &#54644;&#45817;)</td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>erb :index</tt></td>
  </tr>
</table>
<a name='Builder%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Builder &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://builder.rubyforge.org/">builder</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.builder</tt></td>
  </tr>
<tr>
<td>Example</td>
<td><tt>builder { |xml| xml.em "hi" }</tt></td>
  </tr>
</table>
<p>&#51064;&#46972;&#51064; &#53596;&#54540;&#47551;&#51004;&#47196; &#48660;&#47197;&#51012; &#48155;&#51020;(&#50696;&#51228; &#52280;&#51312;).</p>

<a name='Nokogiri%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Nokogiri &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://nokogiri.org/">nokogiri</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.nokogiri</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>nokogiri { |xml| xml.em "hi" }</tt></td>
  </tr>
</table>
<p>&#51064;&#46972;&#51064; &#53596;&#54540;&#47551;&#51004;&#47196; &#48660;&#47197;&#51012; &#48155;&#51020;(&#50696;&#51228; &#52280;&#51312;).</p>

<a name='Sass%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Sass &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://sass-lang.com/">sass</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.sass</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>sass :stylesheet, :style =&gt; :expanded</tt></td>
  </tr>
</table>
<a name='SCSS%20&%2353596;&%2354540;&%2347551;'></a>
<h3>SCSS &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://sass-lang.com/">sass</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.scss</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>scss :stylesheet, :style =&gt; :expanded</tt></td>
  </tr>
</table>
<a name='Less%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Less &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://www.lesscss.org/">less</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.less</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>less :stylesheet</tt></td>
  </tr>
</table>
<a name='Liquid%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Liquid &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://www.liquidmarkup.org/">liquid</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.liquid</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>liquid :index, :locals =&gt; { :key =&gt; 'value' }</tt></td>
  </tr>
</table>
<p>Liquid &#53596;&#54540;&#47551;&#50640;&#49436;&#45716; &#47336;&#48708; &#47700;&#49436;&#46300;(<code>yield</code> &#51228;&#50808;)&#47484; &#54840;&#52636;&#54624; &#49688; &#50630;&#44592; &#46412;&#47928;&#50640;, &#44144;&#51032; &#45824;&#48512;&#48516;&#51032; &#44221;&#50864; locals&#47484; &#51204;&#45804;&#54644;&#50556; &#54632;.</p>

<a name='Markdown%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Markdown &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
    <td>
      <a href="https://github.com/rtomayko/rdiscount">rdiscount</a>,
      <a href="https://github.com/vmg/redcarpet">redcarpet</a>,
      <a href="http://deveiate.org/projects/BlueCloth">bluecloth</a>,
      <a href="http://kramdown.rubyforge.org/">kramdown</a> *&#46608;&#45716;*
      <a href="http://maruku.rubyforge.org/">maruku</a>
    </td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;</td>
    <td>
<tt>.markdown</tt>, <tt>.mkd</tt>,  <tt>.md</tt>
</td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
    <td><tt>markdown :index, :layout_engine =&gt; :erb</tt></td>
  </tr>
</table>
<p>&#47560;&#53356;&#45796;&#50868;&#50640;&#49436;&#45716; &#47700;&#49436;&#46300; &#54840;&#52636; &#49104; &#50500;&#45768;&#46972; locals &#51204;&#45804;&#46020; &#50504;&#46120;. 
&#46384;&#46972;&#49436; &#51068;&#48152;&#51201;&#51004;&#47196;&#45716; &#45796;&#47480; &#47116;&#45908;&#47553; &#50644;&#51652;&#44284; &#54632;&#44760; &#49324;&#50857;&#54616;&#44172; &#46112; &#44163;&#51076;:</p>

<pre><code class="ruby">erb :overview, :locals =&gt; { :text =&gt; markdown(:introduction) }
</code></pre>

<p>&#46608;&#54620; &#45796;&#47480; &#53596;&#54540;&#47551; &#49549;&#50640;&#49436; <code>markdown</code> &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54624; &#49688;&#46020; &#51080;&#51020;:</p>

<pre><code class="ruby">%h1 &#50504;&#45397; Haml!
%p= markdown(:greetings)
</code></pre>

<p>Markdown&#50640;&#49436; &#47336;&#48708;&#47484; &#54840;&#52636;&#54624; &#49688; &#50630;&#44592; &#46412;&#47928;&#50640;, Markdown&#51004;&#47196; &#51089;&#49457;&#46108; &#47112;&#51060;&#50500;&#50883;&#51008; &#49324;&#50857;&#54624; &#49688; &#50630;&#51020;.
&#45800;, <code>:layout_engine</code> &#50741;&#49496;&#51004;&#47196; &#53596;&#54540;&#47551;&#51032; &#47112;&#51060;&#50500;&#50883;&#51008; &#45796;&#47480; &#47116;&#45908;&#47553; &#50644;&#51652;&#51012; &#49324;&#50857;&#54616;&#45716; &#44163;&#51008; &#44032;&#45733;.</p>

<a name='Textile%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Textile &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://redcloth.org/">RedCloth</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.textile</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>textile :index, :layout_engine =&gt; :erb</tt></td>
  </tr>
</table>
<p>Textile&#50640;&#49436; &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54616;&#44144;&#45208; locals&#47484; &#51204;&#45804;&#54616;&#45716; &#44163;&#51008; &#48520;&#44032;&#45733;&#54632;.
&#46384;&#46972;&#49436; &#51068;&#48152;&#51201;&#51004;&#47196; &#45796;&#47480; &#47116;&#45908;&#47553; &#50644;&#51652;&#44284; &#54632;&#44760; &#49324;&#50857;&#54616;&#44172; &#46112; &#44163;&#51076;:</p>

<pre><code class="ruby">erb :overview, :locals =&gt; { :text =&gt; textile(:introduction) }
</code></pre>

<p>&#46608;&#54620; &#45796;&#47480; &#53596;&#54540;&#47551; &#49549;&#50640;&#49436; <code>textile</code> &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54624; &#49688;&#46020; &#51080;&#51020;:</p>

<pre><code class="ruby">%h1 &#50504;&#45397; Haml!
%p= textile(:greetings)
</code></pre>

<p>Textile&#50640;&#49436; &#47336;&#48708;&#47484; &#54840;&#52636;&#54624; &#49688; &#50630;&#44592; &#46412;&#47928;&#50640;, Textile&#47196; &#51089;&#49457;&#46108; &#47112;&#51060;&#50500;&#50883;&#51008; &#49324;&#50857;&#54624; &#49688; &#50630;&#51020;.
&#45800;, <code>:layout_engine</code> &#50741;&#49496;&#51004;&#47196; &#53596;&#54540;&#47551;&#51032; &#47112;&#51060;&#50500;&#50883;&#51008; &#45796;&#47480; &#47116;&#45908;&#47553; &#50644;&#51652;&#51012; &#49324;&#50857;&#54616;&#45716; &#44163;&#51008; &#44032;&#45733;.</p>

<a name='RDoc%20&%2353596;&%2354540;&%2347551;'></a>
<h3>RDoc &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://rdoc.rubyforge.org/">rdoc</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.rdoc</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>rdoc :README, :layout_engine =&gt; :erb</tt></td>
  </tr>
</table>
<p>rdoc&#50640;&#49436; &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54616;&#44144;&#45208; locals&#47484; &#51204;&#45804;&#54616;&#45716; &#44163;&#51008; &#48520;&#44032;&#45733;&#54632;.
&#46384;&#46972;&#49436; &#51068;&#48152;&#51201;&#51004;&#47196; &#45796;&#47480; &#47116;&#45908;&#47553; &#50644;&#51652;&#44284; &#54632;&#44760; &#49324;&#50857;&#54616;&#44172; &#46112; &#44163;&#51076;:</p>

<pre><code class="ruby">erb :overview, :locals =&gt; { :text =&gt; rdoc(:introduction) }
</code></pre>

<p>&#46608;&#54620; &#45796;&#47480; &#53596;&#54540;&#47551; &#49549;&#50640;&#49436; <code>rdoc</code> &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54624; &#49688;&#46020; &#51080;&#51020;:</p>

<pre><code class="ruby">%h1 Hello From Haml!
%p= rdoc(:greetings)
</code></pre>

<p>RDoc&#50640;&#49436; &#47336;&#48708;&#47484; &#54840;&#52636;&#54624; &#49688; &#50630;&#44592; &#46412;&#47928;&#50640;, RDoc&#47196; &#51089;&#49457;&#46108; &#47112;&#51060;&#50500;&#50883;&#51008; &#49324;&#50857;&#54624; &#49688; &#50630;&#51020;.
&#45800;, <code>:layout_engine</code> &#50741;&#49496;&#51004;&#47196; &#53596;&#54540;&#47551;&#51032; &#47112;&#51060;&#50500;&#50883;&#51008; &#45796;&#47480; &#47116;&#45908;&#47553; &#50644;&#51652;&#51012; &#49324;&#50857;&#54616;&#45716; &#44163;&#51008; &#44032;&#45733;.</p>

<a name='Radius%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Radius &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://radius.rubyforge.org/">radius</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.radius</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>radius :index, :locals =&gt; { :key =&gt; 'value' }</tt></td>
  </tr>
</table>
<p>Radius &#53596;&#54540;&#47551;&#50640;&#49436;&#45716; &#47336;&#48708; &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54624; &#49688; &#50630;&#44592; &#46412;&#47928;&#50640;, &#44144;&#51032; &#45824;&#48512;&#48516;&#51032; &#44221;&#50864; locals&#47196; &#51204;&#45804;&#54616;&#44172; &#46112; &#44163;&#51076;.</p>

<a name='Markaby%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Markaby &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://markaby.github.com/">markaby</a></td>
  </tr>
<tr>
<td>&#54028;&#51068;&#54869;&#51109;</td>
<td><tt>.mab</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>markaby { h1 "Welcome!" }</tt></td>
  </tr>
</table>
<p>&#51064;&#46972;&#51064; &#53596;&#54540;&#47551;&#51004;&#47196; &#48660;&#47197;&#51012; &#48155;&#51012; &#49688;&#46020; &#51080;&#51020;(&#50696;&#51228; &#52280;&#51312;).</p>

<a name='RABL%20&%2353596;&%2354540;&%2347551;'></a>
<h3>RABL &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="https://github.com/nesquena/rabl">rabl</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.rabl</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>rabl :index</tt></td>
  </tr>
</table>
<a name='Slim%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Slim &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="http://slim-lang.com/">slim</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.slim</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>slim :index</tt></td>
  </tr>
</table>
<a name='Creole%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Creole &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="https://github.com/minad/creole">creole</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.creole</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>creole :wiki, :layout_engine =&gt; :erb</tt></td>
  </tr>
</table>
<p>creole&#50640;&#49436;&#45716; &#47336;&#48708; &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54624; &#49688; &#50630;&#44256; locals&#46020; &#51204;&#45804;&#54624; &#49688; &#50630;&#51020;.
&#46384;&#46972;&#49436; &#51068;&#48152;&#51201;&#51004;&#47196;&#45716; &#45796;&#47480; &#47116;&#45908;&#47553; &#50644;&#51652;&#44284; &#54632;&#44760; &#49324;&#50857;&#54616;&#44172; &#46112; &#44163;&#51076;.</p>

<pre><code class="ruby">erb :overview, :locals =&gt; { :text =&gt; creole(:introduction) }
</code></pre>

<p>&#46608;&#54620; &#45796;&#47480; &#53596;&#54540;&#47551; &#49549;&#50640;&#49436; <code>creole</code> &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54624; &#49688;&#46020; &#51080;&#51020;:</p>

<pre><code class="ruby">%h1 Hello From Haml!
%p= creole(:greetings)
</code></pre>

<p>Creole&#50640;&#49436; &#47336;&#48708;&#47484; &#54840;&#52636;&#54624; &#49688; &#50630;&#44592; &#46412;&#47928;&#50640;, Creole&#47196; &#51089;&#49457;&#46108; &#47112;&#51060;&#50500;&#50883;&#51008; &#49324;&#50857;&#54624; &#49688; &#50630;&#51020;.
&#45800;, <code>:layout_engine</code> &#50741;&#49496;&#51004;&#47196; &#53596;&#54540;&#47551;&#51032; &#47112;&#51060;&#50500;&#50883;&#51008; &#45796;&#47480; &#47116;&#45908;&#47553; &#50644;&#51652;&#51012; &#49324;&#50857;&#54616;&#45716; &#44163;&#51008; &#44032;&#45733;.</p>

<a name='CoffeeScript%20&%2353596;&%2354540;&%2347551;'></a>
<h3>CoffeeScript &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;&#49457;</td>
<td>
<a href="https://github.com/josh/ruby-coffee-script">coffee-script</a>
  &#50752; <a href="https://github.com/sstephenson/execjs/blob/master/README.md#readme">&#51088;&#48148;&#49828;&#53356;&#47549;&#53944; &#49892;&#54665;&#48277;</a>
</td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.coffee</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>coffee :index</tt></td>
  </tr>
</table>
<a name='Yajl%20&%2353596;&%2354540;&%2347551;'></a>
<h3>Yajl &#53596;&#54540;&#47551;</h3>

<table>
<tr>
<td>&#51032;&#51316;</td>
<td><a href="https://github.com/brianmario/yajl-ruby">yajl-ruby</a></td>
  </tr>
<tr>
<td>&#54028;&#51068; &#54869;&#51109;&#51088;</td>
<td><tt>.yajl</tt></td>
  </tr>
<tr>
<td>&#50696;&#51228;</td>
<td><tt>yajl :index, :locals =&gt; { :key =&gt; 'qux' }, :callback =&gt; 'present', :variable =&gt; 'resource' </tt></td>
  </tr>
</table>
<p>The template source is evaluated as a Ruby string, and the resulting json variable is converted #to<em>json.
&#53596;&#54540;&#47551; &#49548;&#49828;&#45716; &#47336;&#48708; &#47928;&#51088;&#50676;&#47196; &#54217;&#44032;(evaluate)&#46104;&#44256;, &#44208;&#44284;&#51064; json &#48320;&#49688;&#45716; #to</em>json&#51004;&#47196; &#48320;&#54872;&#46120;.</p>

<pre><code class="ruby">json = { :foo =&gt; 'bar' }
json[:baz] = key
</code></pre>

<p><code>:callback</code>&#44284; <code>:variable</code> &#50741;&#49496;&#51008; &#47116;&#45908;&#46108; &#44061;&#52404;&#47484; &#44984;&#48120;&#45716;&#45936;(decorate) &#49324;&#50857;&#54624; &#49688; &#51080;&#51020;.</p>

<pre><code class="ruby">var resource = {"foo":"bar","baz":"qux"}; present(resource);
</code></pre>

<a name='&%2345236;&%2351109;&%2346108;(Embedded)%20&%2353596;&%2354540;&%2347551;'></a>
<h3>&#45236;&#51109;&#46108;(Embedded) &#53596;&#54540;&#47551;</h3>

<pre><code class="ruby">get '/' do
  haml '%div.title Hello World'
end
</code></pre>

<p>&#45236;&#51109;&#46108; &#53596;&#54540;&#47551; &#47928;&#51088;&#50676;&#51012; &#47116;&#45908;&#54632;.</p>

<a name='&%2353596;&%2354540;&%2347551;&%2350640;&%2349436;%20&%2348320;&%2349688;&%2350640;%20&%2351217;&%2344540;&%2354616;&%2344592;'></a>
<h3>&#53596;&#54540;&#47551;&#50640;&#49436; &#48320;&#49688;&#50640; &#51217;&#44540;&#54616;&#44592;</h3>

<p>Templates are evaluated within the same context as route handlers. Instance
variables set in route handlers are directly accessible by templates:
&#53596;&#54540;&#47551;&#51008; &#46972;&#50864;&#53552; &#54648;&#46308;&#47084;&#50752; &#44057;&#51008; &#47589;&#46973;(context)&#50640;&#49436; &#54217;&#44032;&#46108;&#45796;.
&#46972;&#50864;&#53552; &#54648;&#46308;&#47084;&#50640;&#49436; &#49444;&#51221;&#54620; &#51064;&#49828;&#53556;&#49828; &#48320;&#49688;&#46308;&#51008; &#53596;&#54540;&#47551;&#50640;&#49436; &#51217;&#44540; &#44032;&#45733;&#54616;&#45796;: </p>

<pre><code class="ruby">get '/:id' do
  @foo = Foo.find(params[:id])
  haml '%h1= @foo.name'
end
</code></pre>

<p>&#46608;&#45716;, &#47749;&#49884;&#51201;&#51004;&#47196; &#47196;&#52972; &#48320;&#49688;&#51032; &#54644;&#49884;&#47484; &#51648;&#51221;: </p>

<pre><code class="ruby">get '/:id' do
  foo = Foo.find(params[:id])
  haml '%h1= bar.name', :locals =&gt; { :bar =&gt; foo }
end
</code></pre>

<p>This is typically used when rendering templates as partials from within
other templates.
&#51060; &#48169;&#48277;&#51008; &#53685;&#49345;&#51201;&#51004;&#47196; &#53596;&#54540;&#47551;&#51012; &#45796;&#47480; &#53596;&#54540;&#47551; &#49549;&#50640;&#49436; &#54028;&#49500;(partial)&#47196; &#47116;&#45908;&#47553;&#54624; &#46412; &#49324;&#50857;&#46108;&#45796;.</p>

<a name='&%2351064;&%2346972;&%2351064;%20&%2353596;&%2354540;&%2347551;'></a>
<h3>&#51064;&#46972;&#51064; &#53596;&#54540;&#47551;</h3>

<p>&#53596;&#54540;&#47551;&#51008; &#49548;&#49828; &#54028;&#51068;&#51032; &#47560;&#51648;&#47561;&#50640;&#49436; &#51221;&#51032;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">require 'sinatra'

get '/' do
  haml :index
end

__END__

@@ layout
%html
= yield

@@ index
%div.title Hello world.
</code></pre>

<p>&#52280;&#44256;: require sinatra &#49884;&#53416; &#49548;&#49828; &#54028;&#51068;&#50640; &#51221;&#51032;&#46108; &#51064;&#46972;&#51064; &#53596;&#54540;&#47551;&#51008; &#51088;&#46041;&#51004;&#47196; &#47196;&#46300;&#46108;&#45796;.
&#45796;&#47480; &#49548;&#49828; &#54028;&#51068;&#50640;&#49436; &#51064;&#46972;&#51064; &#53596;&#54540;&#47551;&#51012; &#49324;&#50857;&#54616;&#47140;&#47732; &#47749;&#49884;&#51201;&#51004;&#47196; <code>enable :inline_templates</code>&#51012; &#54840;&#52636;&#54616;&#47732; &#46120;.</p>

<a name='&%2351060;&%2347492;&%2351012;%20&%2344032;&%2351648;&%2345716;%20&%2353596;&%2354540;&%2347551;(Named%20Templates)'></a>
<h3>&#51060;&#47492;&#51012; &#44032;&#51648;&#45716; &#53596;&#54540;&#47551;(Named Templates)</h3>

<p>&#53596;&#54540;&#47551;&#51008; &#53681; &#47112;&#48296;(top-level)&#50640;&#49436; <code>template</code>&#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54616;&#50668; &#51221;&#51032;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">template :layout do
  "%html\n  =yield\n"
end

template :index do
  '%div.title Hello World!'
end

get '/' do
  haml :index
end
</code></pre>

<p>"layout"&#51060;&#46972;&#45716; &#51060;&#47492;&#51032; &#53596;&#54540;&#47551;&#51060; &#51316;&#51116;&#54616;&#47732;, &#47588;&#48264; &#53596;&#54540;&#47551;&#51060; &#47116;&#45908;&#46112; &#46412;&#47560;&#45796; &#49324;&#50857;&#46112; &#44163;&#51060;&#45796;.
&#51060; &#46412; <code>:layout =&gt; false</code>&#47484; &#51204;&#45804;&#54616;&#50668; &#44060;&#48324;&#51201;&#51004;&#47196; &#47112;&#51060;&#50500;&#50883;&#51012; &#48708;&#54876;&#49457;&#49884;&#53412;&#44144;&#45208;
&#46608;&#45716; <code>set :haml, :layout =&gt; false</code>&#51004;&#47196; &#44592;&#48376;&#44050;&#51012; &#48708;&#54876;&#49457;&#51004;&#47196; &#46168; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/' do
  haml :index, :layout =&gt; !request.xhr?
end
</code></pre>

<a name='&%2354028;&%2351068;%20&%2354869;&%2351109;&%2351088;%20&%2350672;&%2344208;&%2354616;&%2344592;'></a>
<h3>&#54028;&#51068; &#54869;&#51109;&#51088; &#50672;&#44208;&#54616;&#44592;</h3>

<p>&#50612;&#46500; &#54028;&#51068; &#54869;&#51109;&#51088;&#47484; &#53945;&#51221; &#53596;&#54540;&#47551; &#50644;&#51652;&#44284; &#50672;&#44208;&#54616;&#47140;&#47732;, <code>Tilt.register</code>&#47484; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;.
&#50696;&#47484; &#46308;&#50612;, <code>tt</code>&#46972;&#45716; &#54028;&#51068; &#54869;&#51109;&#51088;&#47484; Textile &#53596;&#54540;&#47551;&#44284; &#50672;&#44208;&#54616;&#44256; &#49910;&#45796;&#47732;, &#45796;&#51020;&#44284; &#44057;&#51060; &#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">Tilt.register :tt, Tilt[:textile]
</code></pre>

<a name='&%2345208;&%2347564;&%2351032;%20&%2344256;&%2350976;&%2354620;%20&%2353596;&%2354540;&%2347551;%20&%2350644;&%2351652;%20&%2352628;&%2344032;&%2354616;&%2344592;'></a>
<h3>&#45208;&#47564;&#51032; &#44256;&#50976;&#54620; &#53596;&#54540;&#47551; &#50644;&#51652; &#52628;&#44032;&#54616;&#44592;</h3>

<p>&#50864;&#49440;, Tilt&#47196; &#50668;&#47084;&#48516; &#50644;&#51652;&#51012; &#46321;&#47197;&#54616;&#44256;, &#44536;&#47088; &#45796;&#51020; &#47116;&#45908;&#47553; &#47700;&#49436;&#46300;&#47484; &#49373;&#49457;&#54616;&#51088;:</p>

<pre><code class="ruby">Tilt.register :myat, MyAwesomeTemplateEngine

helpers do
  def myat(*args) render(:myat, *args) end
end

get '/' do
  myat :index
end
</code></pre>

<p><code>./views/index.myat</code> &#47484; &#47116;&#45908;&#54632;. 
Tilt&#50640; &#45824;&#54620; &#45908; &#51088;&#49464;&#54620; &#45236;&#50857;&#51008; https://github.com/rtomayko/tilt &#52280;&#51312;.</p>

<a name='&%2354596;&%2353552;(Filters)'></a>
<h2>&#54596;&#53552;(Filters)</h2>

<p>&#49324;&#51204; &#54596;&#53552;(before filter)&#45716; &#46972;&#50864;&#53552;&#50752; &#46041;&#51068;&#54620; &#47589;&#46973;&#50640;&#49436; &#47588; &#50836;&#52397; &#51204;&#50640; &#54217;&#44032;&#46104;&#47728; &#50836;&#52397;&#44284; &#51025;&#45813;&#51012; &#48320;&#54805;&#54624; &#49688; &#51080;&#45796;.
&#54596;&#53552;&#50640;&#49436; &#49444;&#51221;&#46108; &#51064;&#49828;&#53556;&#49828; &#48320;&#49688;&#46308;&#51008; &#46972;&#50864;&#53552;&#50752; &#53596;&#54540;&#47551; &#49549;&#50640;&#49436; &#51217;&#44540; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">before do
  @note = 'Hi!'
  request.path_info = '/foo/bar/baz'
end

get '/foo/*' do
  @note #=&gt; 'Hi!'
  params[:splat] #=&gt; 'bar/baz'
end
</code></pre>

<p>&#49324;&#54980; &#54596;&#53552;(after filter)&#45716; &#46972;&#50864;&#53552;&#50752; &#46041;&#51068;&#54620; &#47589;&#46973;&#50640;&#49436; &#47588; &#50836;&#52397; &#51060;&#54980;&#50640; &#54217;&#44032;&#46104;&#47728; &#47560;&#52268;&#44032;&#51648;&#47196; &#50836;&#52397;&#44284; &#51025;&#45813;&#51012; &#48320;&#54805;&#54624; &#49688; &#51080;&#45796;.
&#49324;&#51204; &#54596;&#53552;&#50752; &#46972;&#50864;&#53552;&#50640;&#49436; &#49444;&#51221;&#46108; &#51064;&#49828;&#53556;&#49828; &#48320;&#49688;&#46308;&#51008; &#49324;&#54980; &#54596;&#53552;&#50640;&#49436; &#51217;&#44540; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">after do
  puts response.status
end
</code></pre>

<p>&#52280;&#44256;: &#47564;&#50557; &#46972;&#50864;&#53552;&#50640;&#49436; <code>body</code> &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54616;&#51648; &#50506;&#44256; &#44536;&#45285; &#47928;&#51088;&#50676;&#47564; &#48152;&#54872;&#54620; &#44221;&#50864;&#46972;&#47732;, body&#45716; &#45208;&#51473;&#50640; &#49373;&#49457;&#46104;&#45716; &#53459;&#50640;, &#50500;&#51649; &#49324;&#54980; &#54596;&#53552;&#50640;&#49436; &#49324;&#50857;&#54624; &#49688; &#50630;&#51012; &#44163;&#51060;&#45796;.</p>

<p>&#54596;&#53552;&#45716; &#49440;&#53469;&#51201;&#51004;&#47196; &#54056;&#53556;&#51012; &#52712;&#54624; &#49688; &#51080;&#51004;&#47728;, &#51060; &#44221;&#50864; &#50836;&#52397; &#44221;&#47196;&#44032; &#44536; &#54056;&#53556;&#44284; &#47588;&#52824;&#54624; &#44221;&#50864;&#50640;&#47564; &#54596;&#53552;&#44032; &#54217;&#44032;&#46112; &#44163;&#51060;&#45796;.</p>

<pre><code class="ruby">before '/protected/*' do
  authenticate!
end

after '/create/:slug' do |slug|
  session[:last_slug] = slug
end
</code></pre>

<p>&#46972;&#50864;&#53552;&#50752; &#47560;&#52268;&#44032;&#51648;&#47196;, &#54596;&#53552; &#50669;&#49884; &#51312;&#44148;&#51012; &#44054;&#45716;&#45796;:</p>

<pre><code class="ruby">before :agent =&gt; /Songbird/ do
  # ...
end

after '/blog/*', :host_name =&gt; 'example.com' do
  # ...
end
</code></pre>

<a name='&%2354764;&%2354140;(Helpers)'></a>
<h2>&#54764;&#54140;(Helpers)</h2>

<p>&#53681;-&#47112;&#48296;&#51032; <code>helpers</code> &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54616;&#50668; &#46972;&#50864;&#53552; &#54648;&#46308;&#47084;&#50752; &#53596;&#54540;&#47551;&#50640;&#49436; &#49324;&#50857;&#54624; &#54764;&#54140; &#47700;&#49436;&#46300;&#46308;&#51012; &#51221;&#51032;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">helpers do
  def bar(name)
    "#{name}bar"
  end
end

get '/:name' do
  bar(params[:name])
end
</code></pre>

<p>&#46608;&#45716;, &#54764;&#54140; &#47700;&#49436;&#46300;&#45716; &#48324;&#46020;&#51032; &#47784;&#46280; &#49549;&#50640; &#51221;&#51032;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">module FooUtils
  def foo(name) "#{name}foo" end
end

module BarUtils
  def bar(name) "#{name}bar" end
end

helpers FooUtils, BarUtils
</code></pre>

<p>&#51060; &#44221;&#50864; &#47784;&#46280;&#51012; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#53364;&#47000;&#49828;&#50640; &#54252;&#54632;(include)&#49884;&#53416; &#44163;&#44284; &#46041;&#51068;&#54620; &#54952;&#44284;&#47484; &#44054;&#45716;&#45796;.</p>

<a name='&%2349464;&%2349496;(Sessions)%20&%2349324;&%2350857;&%2354616;&%2344592;'></a>
<h3>&#49464;&#49496;(Sessions) &#49324;&#50857;&#54616;&#44592;</h3>

<p>&#49464;&#49496;&#51008; &#50836;&#52397; &#46041;&#50504;&#50640; &#49345;&#53468;&#47484; &#50976;&#51648;&#54616;&#44592; &#50948;&#54644; &#49324;&#50857;&#54620;&#45796;. 
&#49464;&#49496;&#51060; &#54876;&#49457;&#54868;&#46104;&#47732;, &#49324;&#50857;&#51088; &#49464;&#49496; &#45817; session &#54644;&#49884; &#54616;&#45208;&#50473;&#51012; &#44054;&#44172; &#46108;&#45796;:</p>

<pre><code class="ruby">enable :sessions

get '/' do
  "value = " &lt;&lt; session[:value].inspect
end

get '/:value' do
  session[:value] = params[:value]
end
</code></pre>

<p><code>enable :sessions</code>&#51008; &#49892;&#51008; &#47784;&#46304; &#45936;&#51060;&#53552;&#47484; &#53216;&#53412; &#49549;&#50640; &#51200;&#51109;&#54632;&#50640; &#50976;&#51032;&#54616;&#51088;.
&#54637;&#49345; &#51060;&#47111;&#44172; &#54616;&#44256; &#49910;&#51648; &#50506;&#51012; &#49688;&#46020; &#51080;&#51012; &#44163;&#51060;&#45796;(&#50696;&#47484; &#46308;&#50612;, &#47566;&#51008; &#50577;&#51032; &#45936;&#51060;&#53552;&#47484; &#51200;&#51109;&#54616;&#44172; &#46104;&#47732; &#53944;&#47000;&#54589;&#51060; &#45458;&#50500;&#51652;&#45796;).
&#51060; &#46412;&#45716; &#50668;&#47084; &#44032;&#51648; &#47001; &#49464;&#49496; &#48120;&#46308;&#50920;&#50612;(Rack session middleware)&#47484; &#49324;&#50857;&#54624; &#49688; &#51080;&#51012; &#44163;&#51060;&#45796;:
&#51060;&#47111;&#44172; &#54624; &#44221;&#50864;&#46972;&#47732;, <code>enable :sessions</code>&#51012; &#54840;&#52636;&#54616;&#51648; <em>&#47568;&#44256;</em>, 
&#45824;&#49888; &#50668;&#47084;&#48516;&#51060; &#49440;&#53469;&#54620; &#48120;&#46308;&#50920;&#50612;&#47484; &#45796;&#47480; &#47784;&#46304; &#48120;&#46308;&#50920;&#50612;&#46308;&#52376;&#47100; &#54252;&#54632;&#49884;&#53412;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">use Rack::Session::Pool, :expire_after =&gt; 2592000

get '/' do
  "value = " &lt;&lt; session[:value].inspect
end

get '/:value' do
  session[:value] = params[:value]
end
</code></pre>

<p>&#48372;&#50504;&#51012; &#50948;&#54644;&#49436;, &#53216;&#53412; &#49549;&#51032; &#49464;&#49496; &#45936;&#51060;&#53552;&#45716; &#49464;&#49496; &#49884;&#53356;&#47551;(secret)&#51004;&#47196; &#49324;&#51064;(sign)&#46108;&#45796;. 
Sinatra&#45716; &#50668;&#47084;&#48516;&#51012; &#50948;&#54644; &#47924;&#51089;&#50948; &#49884;&#53356;&#47551;&#51012; &#49373;&#49457;&#54620;&#45796;.
&#44536;&#47111;&#51648;&#47564;, &#51060; &#49884;&#53356;&#47551;&#51008; &#50668;&#47084;&#48516; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#49884;&#51089; &#49884;&#47560;&#45796; &#48320;&#44221;&#46112; &#49688; &#51080;&#44592; &#46412;&#47928;&#50640;,
&#50668;&#47084;&#48516;&#51008; &#50668;&#47084;&#48516; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51032; &#47784;&#46304; &#51064;&#49828;&#53556;&#49828;&#46308;&#51060; &#44277;&#50976;&#54624; &#49884;&#53356;&#47551;&#51012; &#51649;&#51217; &#47564;&#46308;&#44256; &#49910;&#51012; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">set :session_secret, 'super secret'
</code></pre>

<p>&#51312;&#44552; &#45908; &#49464;&#48512;&#51201;&#51064; &#49444;&#51221;&#51060; &#54596;&#50836;&#54616;&#45796;&#47732;, <code>sessions</code> &#49444;&#51221;&#50640;&#49436; &#50741;&#49496;&#51060; &#51080;&#45716; &#54644;&#49884;&#47484; &#51200;&#51109;&#54624; &#49688;&#46020; &#51080;&#51012; &#44163;&#51060;&#45796;:</p>

<pre><code class="ruby">set :sessions, :domain =&gt; 'foo.com'
</code></pre>

<a name='&%2351473;&%2345800;&%2354616;&%2344592;(Halting)'></a>
<h3>&#51473;&#45800;&#54616;&#44592;(Halting)</h3>

<p>&#54596;&#53552;&#45208; &#46972;&#50864;&#53552;&#50640;&#49436; &#50836;&#52397;&#51012; &#51593;&#44033; &#51473;&#45800;&#54616;&#44256; &#49910;&#51012; &#46412; &#49324;&#50857;&#54616;&#46972;:</p>

<pre><code class="ruby">halt
</code></pre>

<p>&#51473;&#45800;&#54624; &#46412; &#49345;&#53468;&#47484; &#51648;&#51221;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">halt 410
</code></pre>

<p>&#46608;&#45716; &#48376;&#47928;&#51012; &#45347;&#51012; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">halt 'this will be the body'
</code></pre>

<p>&#46608;&#45716; &#46168; &#45796;&#46020; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">halt 401, 'go away!'
</code></pre>

<p>&#54756;&#45908;&#47484; &#52628;&#44032;&#54624; &#44221;&#50864;&#50640;&#45716; &#45796;&#51020;&#44284; &#44057;&#51060; &#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">halt 402, {'Content-Type' =&gt; 'text/plain'}, 'revenge'
</code></pre>

<p>&#47932;&#47200; <code>halt</code>&#47484; &#53596;&#54540;&#47551;&#44284; &#44208;&#54633;&#54616;&#45716; &#44163;&#46020; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">halt erb(:error)
</code></pre>

<a name='&%2345336;&%2344592;&%2344592;(Passing)'></a>
<h3>&#45336;&#44592;&#44592;(Passing)</h3>

<p>&#46972;&#50864;&#53552;&#45716; <code>pass</code>&#47484; &#49324;&#50857;&#54616;&#50668; &#45796;&#51020; &#48264; &#47588;&#52845;&#46104;&#45716; &#46972;&#50864;&#53552;&#47196; &#52376;&#47532;&#47484; &#45336;&#44600; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/guess/:who' do
  pass unless params[:who] == 'Frank'
  'You got me!'
end

get '/guess/*' do
  'You missed!'
end
</code></pre>

<p>&#51060; &#46468; &#46972;&#50864;&#53552; &#48660;&#47197;&#50640;&#49436; &#51593;&#44033; &#48736;&#51256;&#45208;&#50724;&#44172; &#46104;&#44256; &#51228;&#50612;&#45716; &#45796;&#51020; &#48264; &#47588;&#52845;&#46104;&#45716; &#46972;&#50864;&#53552;&#47196; &#45336;&#50612;&#44036;&#45796;.
&#47564;&#50557; &#47588;&#52845;&#46104;&#45716; &#46972;&#50864;&#53552;&#47484; &#52286;&#51648; &#47803;&#54616;&#47732;, 404&#44032; &#48152;&#54872;&#46108;&#45796;.</p>

<a name='&%2345796;&%2347480;%20&%2346972;&%2350864;&%2353552;%20&%2348512;&%2347476;&%2344592;(Triggering%20Another%20Route)'></a>
<h3>&#45796;&#47480; &#46972;&#50864;&#53552; &#48512;&#47476;&#44592;(Triggering Another Route)</h3>

<p>&#44221;&#50864;&#50640; &#46384;&#46972;&#49436;&#45716; <code>pass</code>&#44032; &#50500;&#45768;&#46972;, &#45796;&#47480; &#46972;&#50864;&#53552;&#47484; &#54840;&#52636;&#54620; &#44208;&#44284;&#47484; &#50619;&#44256; &#49910;&#51008; &#44221;&#50864;&#46020; &#51080;&#51012; &#44163;&#51060;&#45796;.
&#51060; &#46412;&#45716; &#44036;&#45800;&#54616;&#44172; +<code>call</code>+&#51012; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">get '/foo' do
  status, headers, body = call env.merge("PATH_INFO" =&gt; '/bar')
  [status, headers, body.map(&amp;:upcase)]
end

get '/bar' do
"bar"
end
</code></pre>

<p>&#50948; &#50696;&#51228;&#51032; &#44221;&#50864;, <code>"bar"</code>&#47484; &#54764;&#54140;&#47196; &#50734;&#44200; <code>/foo</code>&#50752; <code>/bar</code> &#47784;&#46160;&#50640;&#49436; &#49324;&#50857;&#54616;&#46020;&#47197; &#54632;&#51004;&#47196;&#50024;
&#53580;&#49828;&#54021;&#51012; &#49789;&#44172; &#54616;&#44256; &#49457;&#45733;&#51012; &#45458;&#51068; &#49688; &#51080;&#51012; &#44163;&#51060;&#45796;.</p>

<p>&#47564;&#50557; &#44536; &#50836;&#52397;&#51060; &#49324;&#48376;&#51060; &#50500;&#45772; &#48148;&#47196; &#44536; &#46041;&#51068; &#51064;&#49828;&#53556;&#49828;&#47196; &#48372;&#45236;&#51648;&#46020;&#47197; &#54616;&#44256; &#49910;&#45796;&#47732;, 
<code>call</code> &#45824;&#49888; <code>call!</code>&#51012; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;.</p>

<p><code>call</code>&#50640; &#45824;&#54620; &#45908; &#51088;&#49464;&#54620; &#45236;&#50857;&#51008; Rack &#47749;&#49464;&#47484; &#52280;&#44256;&#54616;&#47732; &#46108;&#45796;.</p>

<a name='&%2348376;&%2347928;,%20&%2349345;&%2353468;%20&%2353076;&%2346300;%20&%2348143;%20&%2354756;&%2345908;%20&%2349444;&%2351221;&%2354616;&%2344592;'></a>
<h3>&#48376;&#47928;, &#49345;&#53468; &#53076;&#46300; &#48143; &#54756;&#45908; &#49444;&#51221;&#54616;&#44592;</h3>

<p>&#46972;&#50864;&#53552; &#48660;&#47197;&#51032; &#48152;&#54872;&#44050;&#44284; &#54632;&#44760; &#49345;&#53468; &#53076;&#46300;(status code)&#50752; &#51025;&#45813; &#48376;&#47928;(response body)&#51012; &#49444;&#51221;&#54616;&#45716; &#44163;&#51008; &#44032;&#45733;&#54616;&#44592;&#46020; &#54616;&#44144;&#45768;&#50752; &#44428;&#51109;&#46104;&#45716; &#48169;&#48277;&#51060;&#45796;. &#44536;&#47111;&#51648;&#47564;, &#44221;&#50864;&#50640; &#46384;&#46972;&#49436;&#45716; &#48376;&#47928;&#51012; &#49892;&#54665; &#55120;&#47492; &#51473;&#51032; &#51076;&#51032; &#51648;&#51216;&#50640;&#49436; &#49444;&#51221;&#54616;&#44256; &#49910;&#51012; &#49688;&#46020; &#51080;&#45796;.
&#51060; &#46412;&#45716; <code>body</code> &#54764;&#54140; &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;.
&#51060;&#47111;&#44172; &#54616;&#47732;, &#44536; &#49692;&#44036;&#48512;&#53552; &#48376;&#47928;&#50640; &#51217;&#44540;&#54624; &#46412; &#44536; &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54624; &#49688;&#44032; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/foo' do
  body "bar"
end

after do
  puts body
end
</code></pre>

<p><code>body</code>&#47196; &#48660;&#47197;&#51012; &#51204;&#45804;&#54616;&#45716; &#44163;&#46020; &#44032;&#45733;&#54616;&#47728;, &#51060; &#48660;&#47197;&#51008; &#47001;(Rack) &#54648;&#46308;&#47084;&#50640; &#51032;&#54644; &#49892;&#54665;&#46112; &#44163;&#51060;&#45796;.
(&#51060; &#48169;&#48277;&#51008; &#49828;&#53944;&#47532;&#48141;&#51012; &#44396;&#54788;&#54624; &#46412; &#49324;&#50857;&#54624; &#49688; &#51080;&#45716;&#45936;, "&#44050; &#48152;&#54872;&#54616;&#44592;"&#47484; &#52280;&#44256;).</p>

<p>&#48376;&#47928;&#50752; &#47560;&#52268;&#44032;&#51648;&#47196;, &#49345;&#53468;&#53076;&#46300;&#50752; &#54756;&#45908;&#46020; &#49444;&#51221;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/foo' do
  status 418
  headers \
"Allow"   =&gt; "BREW, POST, GET, PROPFIND, WHEN",
"Refresh" =&gt; "Refresh: 20; http://www.ietf.org/rfc/rfc2324.txt"
  body "I'm a tea pot!"
end
</code></pre>

<p><code>body</code>&#52376;&#47100;, <code>header</code>&#50752; <code>status</code>&#46020; &#47588;&#44060;&#48320;&#49688; &#50630;&#51060; &#49324;&#50857;&#54616;&#50668; &#44536;&#44163;&#51032; &#54788;&#51116; &#44050;&#51012; &#50529;&#49464;&#49828;&#54616;&#45716; &#45936; &#49324;&#50857;&#46112; &#49688; &#51080;&#45796;.</p>

<a name='&%2351025;&%2345813;%20&%2349828;&%2353944;&%2347532;&%2348141;(Streaming%20Responses)'></a>
<h3>&#51025;&#45813; &#49828;&#53944;&#47532;&#48141;(Streaming Responses)</h3>

<p>&#51025;&#45813; &#48376;&#47928;&#51032; &#51068;&#51221; &#48512;&#48516;&#51012; &#44228;&#49549; &#49373;&#49457;&#54616;&#45716; &#44032;&#50868;&#45936; &#45936;&#51060;&#53552;&#47484; &#45236;&#48372;&#45236;&#44592; &#49884;&#51089;&#54616;&#44256; &#49910;&#51012; &#44221;&#50864;&#46020; &#51080;&#51012; &#44163;&#51060;&#45796;.
&#44537;&#45800;&#51201;&#51064; &#50696;&#51228;&#47196;, &#53364;&#46972;&#51060;&#50616;&#53944;&#44032; &#51217;&#49549;&#51012; &#45130;&#44592; &#51204;&#44620;&#51648; &#44228;&#49549; &#45936;&#51060;&#53552;&#47484; &#45236;&#48372;&#45236;&#44256; &#49910;&#51012; &#49688;&#46020; &#51080;&#45796;.
&#50668;&#47084;&#48516;&#47564;&#51032; &#47000;&#54140;(wrapper)&#47484; &#47564;&#46308;&#44592; &#49899;&#45796;&#47732; <code>stream</code> &#54764;&#54140;&#47484; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">get '/' do
  stream do |out|
out &lt;&lt; "It's gonna be legen -\n"
sleep 0.5
out &lt;&lt; " (wait for it) \n"
sleep 1
out &lt;&lt; "- dary!\n"
  end
end
</code></pre>

<p>&#51060;&#47111;&#44172; &#54616;&#47732; &#49828;&#53944;&#47532;&#48141; API&#45208; 
<a href="http://dev.w3.org/html5/eventsource/">&#49436;&#48260; &#48156;&#49569; &#51060;&#48292;&#53944;Server Sent Events</a>&#47484; &#44396;&#54788;&#54624; &#49688; &#51080;&#44172; &#54644; &#51452;&#47728;,
<a href="http://en.wikipedia.org/wiki/WebSocket">WebSockets</a>&#51012; &#50948;&#54620; &#44592;&#48152;&#51004;&#47196; &#49324;&#50857;&#46112; &#49688; &#51080;&#45796;.
&#46608;&#54620; &#51060; &#48169;&#48277;&#51008; &#51068;&#48512; &#53080;&#53584;&#52768;&#44032; &#45712;&#47536; &#51088;&#50896;&#50640; &#51032;&#51316;&#54616;&#45716; &#44221;&#50864;&#50640; 
&#49828;&#47196;&#54411;(throughtput)&#51012; &#45458;&#51060;&#44592; &#50948;&#54644; &#49324;&#50857;&#46112; &#49688;&#46020; &#51080;&#45796;.</p>

<p>&#49828;&#53944;&#47532;&#48141; &#46041;&#51089;, &#53945;&#55176; &#46041;&#49884; &#50836;&#52397;&#51032; &#49688;&#45716; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51012; &#49436;&#48729;&#54616;&#45716; &#50937;&#49436;&#48260;&#50640; &#53356;&#44172; &#51032;&#51316;&#51201;&#51060;&#45796;.
&#50612;&#46500; &#49436;&#48260;, &#50696;&#52968;&#45824; WEBRick &#44057;&#51008; &#44221;&#50864;&#45716; &#50500;&#50696; &#49828;&#53944;&#47532;&#48141;&#51012; &#51648;&#50896;&#51312;&#52264; &#54616;&#51648; &#47803;&#54624; &#44163;&#51060;&#45796;.
&#47564;&#50557; &#49436;&#48260;&#44032; &#49828;&#53944;&#47532;&#48141;&#51012; &#51648;&#50896;&#54616;&#51648; &#50506;&#45716;&#45796;&#47732;, &#48376;&#47928;&#51008; <code>stream</code> &#51004;&#47196; &#51204;&#45804;&#46108; &#48660;&#47197;&#51060; &#49688;&#54665;&#51012; &#47560;&#52828; &#54980;&#50640; &#54620;&#44732;&#48264;&#50640; &#48152;&#54872;&#46112; &#44163;&#51060;&#45796;.
&#49828;&#53944;&#47532;&#48141;&#51008; Shotgun&#50640;&#49436;&#45716; &#51089;&#46041;&#54616;&#51648; &#50506;&#45716;&#45796;. </p>

<p>&#47564;&#50557; &#49440;&#53469;&#51201; &#47588;&#44060;&#48320;&#49688; <code>keep_open</code>&#51060; &#49444;&#51221;&#46104;&#50612; &#51080;&#45796;&#47732;, &#49828;&#53944;&#47548; &#44061;&#52404;&#50640;&#49436; <code>close</code>&#47484; &#54840;&#52636;&#54616;&#51648; &#50506;&#51012; &#44163;&#51060;&#44256;,
&#46384;&#46972;&#49436; &#50668;&#47084;&#48516;&#51008; &#45208;&#51473;&#50640; &#49892;&#54665; &#55120;&#47492; &#49345;&#51032; &#50612;&#45712; &#49884;&#51216;&#50640;&#49436; &#49828;&#53944;&#47548;&#51012; &#45803;&#51012; &#49688; &#51080;&#45796;.
&#51060; &#50741;&#49496;&#51008; Thin&#44284; Rainbow &#44057;&#51008; &#51060;&#48292;&#53944; &#44592;&#48152; &#49436;&#48260;&#50640;&#49436;&#47564; &#51089;&#46041;&#54620;&#45796;.
&#45796;&#47480; &#49436;&#48260;&#46308;&#51008; &#50668;&#51204;&#55176; &#49828;&#53944;&#47548;&#51012; &#45803;&#51012; &#44163;&#51060;&#45796;:</p>

<pre><code class="ruby">set :server, :thin
connections = []

get '/' do
  # &#49828;&#53944;&#47548;&#51012; &#50676;&#47536; &#52292; &#50976;&#51648;
  stream(:keep_open) { |out| connections &lt;&lt; out }
end

post '/' do
  # &#47784;&#46304; &#50676;&#47536; &#49828;&#53944;&#47548;&#50640; &#50416;&#44592;
  connections.each { |out| out &lt;&lt; params[:message] &lt;&lt; "\n" }
  "message sent"
end
</code></pre>

<a name='&%2347196;&%2344613;(Logging)'></a>
<h3>&#47196;&#44613;(Logging)</h3>

<p>In the request scope, the <code>logger</code> helper exposes a <code>Logger</code> instance:
&#50836;&#52397; &#49828;&#53076;&#54532;(request scope) &#45236;&#50640;&#49436;, <code>Logger</code>&#51032; &#51064;&#49828;&#53556;&#49828;&#51064; <code>logger</code> &#54764;&#54140;&#47484; &#49324;&#50857;&#54624; &#49688; &#51080;&#45796;: </p>

<pre><code class="ruby">get '/' do
  logger.info "loading data"
  # ...
end
</code></pre>

<p>&#51060; &#47196;&#44144;&#45716; &#50668;&#47084;&#48516;&#51060; Rack &#54648;&#46308;&#47084;&#50640;&#49436; &#49444;&#51221;&#54620; &#47196;&#44536; &#49483;&#54021;&#51012; &#51088;&#46041;&#51004;&#47196; &#52280;&#44256;&#54620;&#45796;.
&#47564;&#50557; &#47196;&#44613;&#51060; &#48708;&#54876;&#49457;&#51060;&#46972;&#47732;, &#51060; &#47700;&#49436;&#46300;&#45716; &#45908;&#48120;(dummy) &#44061;&#52404;&#47484; &#48152;&#54872;&#54624; &#44163;&#51060;&#47728;,
&#46384;&#46972;&#49436; &#50668;&#47084;&#48516;&#51008; &#46972;&#50864;&#53552;&#45208; &#54596;&#53552;&#50640;&#49436; &#51060; &#48512;&#48516;&#50640; &#45824;&#54644; &#44145;&#51221;&#54624; &#54596;&#50836;&#45716; &#50630;&#45796;.</p>

<p>&#47196;&#44613;&#51008; <code>Sinatra::Application</code>&#50640;&#49436;&#47564; &#44592;&#48376;&#51004;&#47196; &#54876;&#49457;&#54868;&#46104;&#50612; &#51080;&#51020;&#50640; &#50976;&#51032;&#54616;&#51088;.
&#47564;&#50557; <code>Sinatra::Base</code>&#47196;&#48512;&#53552; &#49345;&#49549;&#48155;&#51008; &#44221;&#50864;&#46972;&#47732; &#51649;&#51217; &#54876;&#49457;&#54868;&#49884;&#53020; &#51480;&#50556; &#54620;&#45796;:</p>

<pre><code class="ruby">class MyApp &lt; Sinatra::Base
  configure :production, :development do
enable :logging
  end
end
</code></pre>

<p>&#50612;&#46496;&#54620; &#47196;&#44613; &#48120;&#46308;&#50920;&#50612;&#46020; &#49444;&#51221;&#46104;&#51648; &#50506;&#44172; &#54616;&#47140;&#47732;, <code>logging</code> &#49444;&#51221;&#51012; <code>nil</code>&#47196; &#46160;&#47732; &#46108;&#45796;.
&#44536;&#47111;&#51648;&#47564;, &#51060;&#47092; &#44221;&#50864; <code>logger</code>&#45716; <code>nil</code>&#51012; &#48152;&#54872;&#54624; &#44163;&#51076;&#50640; &#50976;&#51032;&#54616;&#51088;.
&#53685;&#49345;&#51201;&#51064; &#50976;&#49828;&#52992;&#51060;&#49828;&#45716; &#50668;&#47084;&#48516;&#47564;&#51032; &#47196;&#44144;&#47484; &#49324;&#50857;&#54616;&#44256;&#51088; &#54624; &#44221;&#50864;&#51068; &#44163;&#51060;&#45796;.
Sinatra&#45716; <code>env['rack.logger']</code>&#50640;&#49436; &#52286;&#51008; &#44163;&#51012; &#49324;&#50857;&#54624; &#44163;&#51060;&#45796;.</p>

<a name='&%2347560;&%2351076;%20&%2353440;&%2351077;(Mime%20Types)'></a>
<h3>&#47560;&#51076; &#53440;&#51077;(Mime Types)</h3>

<p><code>send_file</code>&#51060;&#45208; &#51221;&#51201;&#51064; &#54028;&#51068;&#51012; &#49324;&#50857;&#54624; &#46412;&#50640; Sinatra&#44032; &#51064;&#49885;&#54616;&#51648; &#47803;&#54616;&#45716; &#47560;&#51076; &#53440;&#51077;&#51060; &#51080;&#51012; &#49688; &#51080;&#45796;.
&#51060; &#44221;&#50864; <code>mime_type</code>&#51012; &#49324;&#50857;&#54616;&#50668; &#54028;&#51068; &#54869;&#51109;&#51088;&#47484; &#46321;&#47197;&#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">configure do
  mime_type :foo, 'text/foo'
end
</code></pre>

<p>&#46608;&#45716; <code>content_type</code> &#54764;&#54140;&#50752; &#54632;&#44760; &#49324;&#50857;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/' do
  content_type :foo
  "foo foo foo"
end
</code></pre>

<a name='URL%20&%2349373;&%2349457;&%2354616;&%2344592;'></a>
<h3>URL &#49373;&#49457;&#54616;&#44592;</h3>

<p>URL&#51012; &#49373;&#49457;&#54616;&#47140;&#47732; <code>url</code> &#54764;&#54140; &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54644;&#50556; &#54620;&#45796;. &#50696;&#47484; &#46308;&#50612; Haml&#50640;&#49436;:</p>

<pre><code class="ruby">%a{:href =&gt; url('/foo')} foo
</code></pre>

<p>&#51060;&#44163;&#51008; &#47532;&#48260;&#49828; &#54532;&#47197;&#49884;(reverse proxies)&#50752; Rack &#46972;&#50864;&#53552;&#47484;, &#47564;&#50557; &#51316;&#51116;&#54620;&#45796;&#47732;, &#52280;&#44256;&#54620;&#45796;.</p>

<p>This method is also aliased to <code>to</code> (see below for an example).
&#51060; &#47700;&#49436;&#46300;&#45716; <code>to</code>&#46972;&#45716; &#48324;&#52845;&#51004;&#47196;&#46020; &#49324;&#50857;&#54624; &#49688; &#51080;&#45796; (&#50500;&#47000; &#50696;&#51228; &#52280;&#51312;).</p>

<a name='&%2348652;&%2346972;&%2350864;&%2351200;%20&%2351116;&%2351648;&%2351221;(Browser%20Redirect)'></a>
<h3>&#48652;&#46972;&#50864;&#51200; &#51116;&#51648;&#51221;(Browser Redirect)</h3>

<p><code>redirect</code> &#54764;&#54140; &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54616;&#50668; &#48652;&#46972;&#50864;&#51200; &#47532;&#45796;&#51060;&#47113;&#53944;&#47484; &#52489;&#48156;&#49884;&#53420; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/foo' do
  redirect to('/bar')
end
</code></pre>

<p>&#50668;&#53440; &#48512;&#44032;&#51201;&#51064; &#47588;&#44060;&#48320;&#49688;&#46308;&#51008; <code>halt</code>&#50640;&#49436; &#51204;&#45804;&#54620; &#51064;&#51088;&#46308;&#52376;&#47100; &#45796;&#47336;&#50612; &#51652;&#45796;:</p>

<pre><code class="ruby">redirect to('/bar'), 303
redirect 'http://google.com', 'wrong place, buddy'
</code></pre>

<p><code>redirect back</code>&#51012; &#49324;&#50857;&#54616;&#47732; &#49324;&#50857;&#51088;&#44032; &#50772;&#45912; &#54168;&#51060;&#51648;&#47196; &#45796;&#49884; &#46028;&#50500;&#44032;&#45716; &#47532;&#45796;&#51060;&#47113;&#53944;&#46020; &#49789;&#44172; &#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/foo' do
  "&lt;a href='/bar'&gt;do something&lt;/a&gt;"
end

get '/bar' do
  do_something
  redirect back
end
</code></pre>

<p>&#47532;&#45796;&#51060;&#47113;&#53944;&#50752; &#54632;&#44760; &#51064;&#51088;&#47484; &#51204;&#45804;&#54616;&#47140;&#47732;, &#53244;&#47532;&#50640; &#48537;&#51060;&#44144;&#45208;:</p>

<pre><code class="ruby">redirect to('/bar?sum=42')
</code></pre>

<p>&#46608;&#45716; &#49464;&#49496;&#51012; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">enable :sessions

get '/foo' do
  session[:secret] = 'foo'
  redirect to('/bar')
end

get '/bar' do
  session[:secret]
end
</code></pre>

<a name='&%2352880;&%2349884;%20&%2352968;&%2353944;&%2347204;(Cache%20Control)'></a>
<h3>&#52880;&#49884; &#52968;&#53944;&#47204;(Cache Control)</h3>

<p>&#54756;&#45908;&#47484; &#51221;&#54869;&#54616;&#44172; &#49444;&#51221;&#54616;&#45716; &#44163;&#51008; &#51201;&#51208;&#54620; HTTP &#52880;&#49905;&#51032; &#44592;&#48376;&#51060;&#45796;. </p>

<p>Cache-Control &#54756;&#45908;&#47484; &#45796;&#51020;&#44284; &#44057;&#51060; &#44036;&#45800;&#54616;&#44172; &#49444;&#51221;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/' do
  cache_control :public
  "cache it!"
end
</code></pre>

<p>&#54532;&#47196; &#54017;: &#52880;&#49905;&#51008; &#49324;&#51204; &#54596;&#53552;&#50640;&#49436; &#49444;&#51221;&#54616;&#46972;:</p>

<pre><code class="ruby">before do
  cache_control :public, :must_revalidate, :max_age =&gt; 60
end
</code></pre>

<p><code>expires</code> &#54764;&#54140;&#47484; &#49324;&#50857;&#54616;&#50668; &#44536;&#50640; &#49345;&#51025;&#54616;&#45716; &#54756;&#45908;&#47484; &#49444;&#51221;&#54620;&#45796;&#47732;,
<code>Cache-Control</code>&#51060; &#51088;&#46041;&#51004;&#47196; &#49444;&#51221;&#46112; &#44163;&#51060;&#45796;:</p>

<pre><code class="ruby">before do
  expires 500, :public, :must_revalidate
end
</code></pre>

<p>&#52880;&#49884;&#47484; &#51096; &#49324;&#50857;&#54616;&#47140;&#47732;, <code>etag</code> &#46608;&#45716; <code>last_modified</code>&#51032; &#49324;&#50857;&#51012; &#44256;&#47140;&#54644;&#50556; &#54624; &#44163;&#51060;&#45796;.
&#47924;&#44144;&#50868; &#51089;&#50629;&#51012; &#54616;&#44592; <em>&#51204;</em>&#50640; &#51060;&#46308; &#54764;&#54140;&#47484; &#54840;&#52636;&#54624; &#44163;&#51012; &#44428;&#51109;&#54616;&#45716;&#45936;,
&#51060;&#47084;&#47732; &#47564;&#50557; &#53364;&#46972;&#51060;&#50616;&#53944; &#52880;&#49884;&#50640; &#54788;&#51116; &#48260;&#51204;&#51060; &#51060;&#48120; &#46308;&#50612; &#51080;&#51012; &#44221;&#50864;&#50644; &#51593;&#44033; &#51025;&#45813;&#51012; &#48152;&#54872;(flush)&#54616;&#44172; &#46112; &#44163;&#51060;&#45796;:</p>

<pre><code class="ruby">get '/article/:id' do
  @article = Article.find params[:id]
  last_modified @article.updated_at
  etag @article.sha1
  erb :article
end
</code></pre>

<p><a href="http://en.wikipedia.org/wiki/HTTP_ETag#Strong_and_weak_validation">&#50557;&#54620; ETag</a>&#47484; &#49324;&#50857;&#54616;&#45716; &#44163;&#46020; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">etag @article.sha1, :weak
</code></pre>

<p>&#51060;&#46308; &#54764;&#54140;&#45716; &#50612;&#46496;&#54620; &#52880;&#49905;&#46020; &#54616;&#51648; &#50506;&#51004;&#47728;, &#45824;&#49888; &#54596;&#50836;&#54620; &#51221;&#48372;&#47484; &#52880;&#49884;&#50640; &#51228;&#44277;&#54620;&#45796;.
&#50668;&#47084;&#48516;&#51060; &#47564;&#50557; &#49552;&#49772;&#50868; &#47532;&#48260;&#49828; &#54532;&#47197;&#49884;(reverse-proxy) &#52880;&#49905; &#49556;&#47336;&#49496;&#51012; &#52286;&#44256; &#51080;&#45796;&#47732;,
<a href="https://github.com/rtomayko/rack-cache">rack-cache</a>&#47484; &#50024;&#48372;&#46972;:</p>

<pre><code class="ruby">require "rack/cache"
require "sinatra"

use Rack::Cache

get '/' do
  cache_control :public, :max_age =&gt; 36000
  sleep 5
  "hello"
end
</code></pre>

<p>&#51221;&#51201; &#54028;&#51068;&#50640; <code>Cache-Control</code> &#54756;&#45908; &#51221;&#48372;&#47484; &#52628;&#44032;&#54616;&#47140;&#47732; <code>:static_cache_control</code> &#49444;&#51221;(&#50500;&#47000; &#52280;&#51312;)&#51012; &#49324;&#50857;&#54616;&#46972;:</p>

<p>RFC 2616&#50640; &#46384;&#47476;&#47732; If-Match &#46608;&#45716; If-None-Match &#54756;&#45908;&#44032; <code>*</code>&#47196; &#49444;&#51221;&#46108; &#44221;&#50864; &#50836;&#52397;&#54620; &#47532;&#49548;&#49828;(resource)&#44032; &#51060;&#48120; &#51316;&#51116;&#54616;&#45712;&#45264; &#50668;&#48512;&#50640; &#46384;&#46972; &#45796;&#47476;&#44172; &#52712;&#44553;&#54644;&#50556; &#54620;&#45796;&#44256; &#46104;&#50612; &#51080;&#45796;.
Sinatra&#45716; (get &#52376;&#47100;) &#50504;&#51204;&#54616;&#44144;&#45208; (put &#52376;&#47100;) &#47729;&#46321;&#51064; &#50836;&#52397;&#50640; &#45824;&#54620; &#47532;&#49548;&#49828;&#45716; &#51060;&#48120; &#51316;&#51116;&#54620;&#45796;&#44256; &#44032;&#51221;&#54616;&#47728;, 
&#48152;&#47732; &#45796;&#47480; &#47532;&#49548;&#49828;(&#50696;&#47484; &#46308;&#47732; post &#50836;&#52397; &#44057;&#51008;)&#51032; &#44221;&#50864;&#45716; &#49352; &#47532;&#49548;&#49828;&#47196; &#52712;&#44553;&#54620;&#45796;.
&#51060;&#47088; &#49444;&#51221;&#51008; <code>:new_resource</code> &#50741;&#49496;&#51004;&#47196; &#51204;&#45804;&#54616;&#50668; &#48320;&#44221;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/create' do
  etag '', :new_resource =&gt; true
  Article.create
  erb :new_article
end
</code></pre>

<p>&#50668;&#51204;&#55176; &#50557;&#54620; ETag&#47484; &#49324;&#50857;&#54616;&#44256;&#51088; &#54620;&#45796;&#47732;, <code>:kind</code>&#51004;&#47196; &#51204;&#45804;&#54616;&#51088;:</p>

<pre><code class="ruby">etag '', :new_resource =&gt; true, :kind =&gt; :weak
</code></pre>

<a name='&%2354028;&%2351068;%20&%2351204;&%2349569;&%2354616;&%2344592;(Sending%20Files)'></a>
<h3>&#54028;&#51068; &#51204;&#49569;&#54616;&#44592;(Sending Files)</h3>

<p>&#54028;&#51068;&#51012; &#51204;&#49569;&#54616;&#47140;&#47732;, <code>send_file</code> &#54764;&#54140; &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">get '/' do
  send_file 'foo.png'
end
</code></pre>

<p>&#51060; &#47700;&#49436;&#46300;&#45716; &#47751; &#44032;&#51648; &#50741;&#49496;&#51012; &#48155;&#45716;&#45796;:</p>

<pre><code class="ruby">send_file 'foo.png', :type =&gt; :jpg
</code></pre>

<p>&#50741;&#49496;&#46308;:</p>

<dl>
<dt>filename</dt>
  <dd>&#51025;&#45813;&#50640;&#49436;&#51032; &#54028;&#51068;&#47749;. &#44592;&#48376;&#44050;&#51008; &#49892;&#51228; &#54028;&#51068;&#47749;&#51060;&#45796;.</dd>

  <dt>last_modified</dt>
  <dd>Last-Modified &#54756;&#45908;&#44050;. &#44592;&#48376;&#44050;&#51008; &#54028;&#51068;&#51032; mtime.</dd>

  <dt>type</dt>
  <dd>&#49324;&#50857;&#54624; &#52968;&#53584;&#52768; &#50976;&#54805;. &#50630;&#51004;&#47732; &#54028;&#51068; &#54869;&#51109;&#51088;&#47196;&#48512;&#53552; &#50976;&#52628;&#46108;&#45796;.</dd>

  <dt>disposition</dt>
  <dd>Content-Disposition&#50640;&#49436; &#49324;&#50857;&#46120;. &#44032;&#45733;&#54620; &#44050;&#46308;: <tt>nil</tt> (&#44592;&#48376;&#44050;),
<tt>:attachment</tt> &#48143; <tt>:inline</tt>
</dd>

  <dt>length</dt>
  <dd>Content-Length, &#44592;&#48376;&#44050;&#51008; &#54028;&#51068; &#53356;&#44592;.</dd>

  <dt>status</dt>
  <dd>&#51204;&#49569;&#54624; &#49345;&#53468; &#53076;&#46300;. &#50724;&#47448; &#54168;&#51060;&#51648;&#47196; &#51221;&#51201; &#54028;&#51068;&#51012; &#51204;&#49569;&#54624; &#44221;&#50864;&#50640; &#50976;&#50857;.</dd>
</dl>
<p>Rack &#54648;&#46308;&#47084;&#44032; &#51648;&#50896;&#54624; &#44221;&#50864;, Ruby &#54532;&#47196;&#49464;&#49828;&#47196;&#48512;&#53552;&#51032; &#49828;&#53944;&#47532;&#48141;&#51060; &#50500;&#45772; &#45796;&#47480; &#49688;&#45800;&#51012; &#49324;&#50857;&#54624; &#49688; &#51080;&#45796;.
&#47564;&#50557; &#51060; &#54764;&#54140; &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54616;&#44172; &#46104;&#47732;, Sinatra&#45716; &#51088;&#46041;&#51004;&#47196; &#48276;&#50948; &#50836;&#52397;(range request)&#51012; &#52376;&#47532;&#54624; &#44163;&#51060;&#45796;.</p>

<a name='&%2350836;&%2352397;%20&%2344061;&%2352404;&%2350640;%20&%2351217;&%2344540;&%2354616;&%2344592;(Accessing%20the%20Request%20Object)'></a>
<h3>&#50836;&#52397; &#44061;&#52404;&#50640; &#51217;&#44540;&#54616;&#44592;(Accessing the Request Object)</h3>

<p>&#51064;&#51077;&#46104;&#45716; &#50836;&#52397; &#44061;&#50640;&#45716; &#50836;&#52397; &#47112;&#48296;(&#54596;&#53552;, &#46972;&#50864;&#53552;, &#50724;&#47448; &#54648;&#46308;&#47084;)&#50640;&#49436; <code>request</code> &#47700;&#49436;&#46300;&#47484; &#53685;&#54644; &#51217;&#44540; &#44032;&#45733;&#54616;&#45796;: </p>

<pre><code class="ruby"># http://example.com/example &#49345;&#50640;&#49436; &#49892;&#54665; &#51473;&#51064; &#50545;
get '/foo' do
  t = %w[text/css text/html application/javascript]
  request.accept              # ['text/html', '*/*']
  request.accept? 'text/xml'  # true
  request.preferred_type(t)   # 'text/html'
  request.body                # &#53364;&#46972;&#51060;&#50616;&#53944;&#47196;&#48512;&#53552; &#51204;&#49569;&#46108; &#50836;&#52397; &#48376;&#47928; (&#50500;&#47000; &#52280;&#51312;)
  request.scheme              # "http"
  request.script_name         # "/example"
  request.path_info           # "/foo"
  request.port                # 80
  request.request_method      # "GET"
  request.query_string        # ""
  request.content_length      # request.body&#51032; &#44600;&#51060;
  request.media_type          # request.body&#51032; &#48120;&#46356;&#50612; &#50976;&#54805;
  request.host                # "example.com"
  request.get?                # true (&#45796;&#47480; &#46041;&#49324;&#50640; &#45824;&#54644; &#50976;&#49324;&#54620; &#47700;&#49436;&#46300; &#51080;&#51020;)
  request.form_data?          # false
  request["SOME_HEADER"]      # SOME_HEADER &#54756;&#45908;&#51032; &#44050;
  request.referrer            # &#53364;&#46972;&#51060;&#50616;&#53944;&#51032; &#47532;&#54140;&#47084; &#46608;&#45716; '/'
  request.user_agent          # &#49324;&#50857;&#51088; &#50640;&#51060;&#51204;&#53944; (:agent &#51312;&#44148;&#50640;&#49436; &#49324;&#50857;&#46120;)
  request.cookies             # &#48652;&#46972;&#50864;&#51200; &#53216;&#53412;&#51032; &#54644;&#49884;
  request.xhr?                # &#51060;&#44172; ajax &#50836;&#52397;&#51064;&#44032;&#50836;?
  request.url                 # "http://example.com/example/foo"
  request.path                # "/example/foo"
  request.ip                  # &#53364;&#46972;&#51060;&#50616;&#53944; IP &#51452;&#49548;
  request.secure?             # false (ssl &#51217;&#49549;&#51064; &#44221;&#50864; true)
  request.forwarded?          # true (&#47532;&#48260;&#49828; &#54532;&#47197;&#49884; &#54616;&#50640;&#49436; &#51089;&#46041; &#51473;&#51060;&#46972;&#47732;)
  request.env                 # Rack&#50640; &#51032;&#54644; &#52376;&#47532;&#46104;&#45716; &#47196;&#50864;(raw) env &#54644;&#49884;
end
</code></pre>

<p>&#51068;&#48512; &#50741;&#49496;&#46308;, <code>script_name</code> &#46608;&#45716; <code>path_info</code>&#50752; &#44057;&#51008; &#51068;&#48512; &#50741;&#49496;&#51008; &#50424; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">before { request.path_info = "/" }

get "/" do
  "all requests end up here"
end
</code></pre>

<p><code>request.body</code>&#45716; IO &#46608;&#45716; StringIO &#44061;&#52404;&#51060;&#45796;:</p>

<pre><code class="ruby">post "/api" do
  request.body.rewind  # &#45572;&#44400;&#44032; &#51060;&#48120; &#51069;&#51008; &#44221;&#50864;
  data = JSON.parse request.body.read
  "Hello #{data['name']}!"
end
</code></pre>

<a name='&%2352392;&%2348512;(Attachments)'></a>
<h3>&#52392;&#48512;(Attachments)</h3>

<p><code>attachment</code> &#54764;&#54140;&#47484; &#49324;&#50857;&#54616;&#50668; &#48652;&#46972;&#50864;&#51200;&#50640;&#44172; &#51025;&#45813;&#51060; &#48652;&#46972;&#50864;&#51200;&#50640; &#54364;&#49884;&#46104;&#45716; &#44172; &#50500;&#45768;&#46972; 
&#46356;&#49828;&#53356;&#50640; &#51200;&#51109;&#46104;&#50612;&#50556; &#54632;&#51012; &#50508;&#47540; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/' do
  attachment
  "store it!"
end
</code></pre>

<p>&#51060; &#46412; &#54028;&#51068;&#47749;&#51012; &#51204;&#45804;&#54624; &#49688;&#46020; &#51080;&#45796;:</p>

<pre><code class="ruby">get '/' do
  attachment "info.txt"
  "store it!"
end
</code></pre>

<a name='&%2345216;&%2351676;&%2350752;%20&%2349884;&%2344036;%20&%2345796;&%2347336;&%2344592;'></a>
<h3>&#45216;&#51676;&#50752; &#49884;&#44036; &#45796;&#47336;&#44592;</h3>

<p>Sinatra&#45716; <code>time_for_</code> &#54764;&#54140; &#47700;&#49436;&#46300;&#47484; &#51228;&#44277;&#54616;&#45716;&#45936;, &#51060; &#47700;&#49436;&#46300;&#45716; &#51452;&#50612;&#51652; &#44050;&#51004;&#47196;&#48512;&#53552; Time &#44061;&#52404;&#47484; &#49373;&#49457;&#54620;&#45796;.
<code>DateTime</code> &#51060;&#45208; <code>Date</code> &#46608;&#45716; &#50976;&#49324;&#54620; &#53364;&#47000;&#49828;&#46308;&#46020; &#48320;&#54872; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">get '/' do
  pass if Time.now &gt; time_for('Dec 23, 2012')
  "still time"
end
</code></pre>

<p>&#51060; &#47700;&#49436;&#46300;&#45716; &#45236;&#48512;&#51201;&#51004;&#47196; <code>expires</code> &#45208; <code>last_modified</code> &#44057;&#51008; &#44275;&#50640;&#49436; &#49324;&#50857;&#46108;&#45796;.
&#46384;&#46972;&#49436; &#50668;&#47084;&#48516;&#51008; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#50640;&#49436; <code>time_for</code>&#47484; &#50724;&#48260;&#46972;&#51060;&#46377;&#54616;&#50668; 
&#51060;&#46308; &#47700;&#49436;&#46300;&#51032; &#46041;&#51089;&#51012; &#49789;&#44172; &#54869;&#51109;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">helpers do
  def time_for(value)
    case value
    when :yesterday then Time.now - 24*60*60
    when :tomorrow  then Time.now + 24*60*60
    else super
    end
  end
end

get '/' do
  last_modified :yesterday
  expires :tomorrow
  "hello"
end
</code></pre>

<a name='&%2353596;&%2354540;&%2347551;%20&%2354028;&%2351068;%20&%2352280;&%2351312;&%2354616;&%2344592;'></a>
<h3>&#53596;&#54540;&#47551; &#54028;&#51068; &#52280;&#51312;&#54616;&#44592;</h3>

<p><code>find_template</code>&#45716; &#47116;&#45908;&#47553;&#54624; &#53596;&#54540;&#47551; &#54028;&#51068;&#51012; &#52286;&#45716;&#45936; &#49324;&#50857;&#46108;&#45796;:</p>

<pre><code class="ruby">find_template settings.views, 'foo', Tilt[:haml] do |file|
  puts "could be #{file}"
end
</code></pre>

<p>This is not really useful. But it is useful that you can actually override this
method to hook in your own lookup mechanism. For instance, if you want to be
able to use more than one view directory:
&#51060;&#44148; &#48324;&#47196; &#50976;&#50857;&#54616;&#51648; &#50506;&#45796;. &#44536;&#47111;&#51648;&#47564; &#51060; &#47700;&#49436;&#46300;&#47484; &#50724;&#48260;&#46972;&#51060;&#46300;&#54616;&#50668; &#50668;&#47084;&#48516;&#47564;&#51032; &#52280;&#51312; &#47700;&#52964;&#45768;&#51608;&#50640;&#49436; &#44032;&#47196;&#52292;&#45716; &#44163;&#51008; &#50976;&#50857;&#54616;&#45796;.
&#50696;&#47484; &#46308;&#50612;, &#54616;&#45208; &#51060;&#49345;&#51032; &#48624; &#46356;&#47113;&#53552;&#47532;&#47484; &#49324;&#50857;&#54616;&#44256;&#51088; &#54620;&#45796;&#47732;:</p>

<pre><code class="ruby">set :views, ['views', 'templates']

helpers do
  def find_template(views, name, engine, &amp;block)
    Array(views).each { |v| super(v, name, engine, &amp;block) }
  end
end
</code></pre>

<p>&#46608;&#45796;&#47480; &#50696;&#51228;&#45716; &#44033;&#44033;&#51032; &#50644;&#51652;&#47560;&#45796; &#45796;&#47480; &#46356;&#47113;&#53552;&#47532;&#47484; &#49324;&#50857;&#54624; &#44221;&#50864;&#45796;:</p>

<pre><code class="ruby">set :views, :sass =&gt; 'views/sass', :haml =&gt; 'templates', :default =&gt; 'views'

helpers do
  def find_template(views, name, engine, &amp;block)
    _, folder = views.detect { |k,v| engine == Tilt[k] }
    folder ||= views[:default]
    super(folder, name, engine, &amp;block)
  end
end
</code></pre>

<p>&#50668;&#47084;&#48516;&#51008; &#51060;&#44163;&#51012; &#44036;&#45800;&#54616;&#44172; &#54869;&#51109;(extension)&#51004;&#47196; &#47564;&#46308;&#50612; &#45796;&#47480; &#49324;&#46988;&#46308;&#44284; &#44277;&#50976;&#54624; &#49688; &#51080;&#45796;!</p>

<p><code>find_template</code>&#51008; &#44536; &#54028;&#51068;&#51060; &#49892;&#51228; &#51316;&#51116;&#54616;&#45716;&#51648; &#44160;&#49324;&#54616;&#51648; &#50506;&#51020;&#50640; &#50976;&#51032;&#54616;&#51088;.
&#45824;&#49888; &#47784;&#46304; &#44032;&#45733;&#54620; &#44221;&#47196;&#50640; &#45824;&#54644; &#51452;&#50612;&#51652; &#48660;&#47197;&#51012; &#54840;&#52636;&#54624; &#49104;&#51060;&#45796;.
&#51060;&#44163;&#51008; &#49457;&#45733; &#47928;&#51228;&#45716; &#50500;&#45772; &#44163;&#51060;, <code>render</code>&#45716; &#54028;&#51068;&#51060; &#48156;&#44204;&#46104;&#45716; &#51593;&#49884; <code>break</code>&#47484; &#49324;&#50857;&#54624; &#44163;&#51060;&#44592; &#46412;&#47928;&#51060;&#45796;.
&#46608;&#54620;, &#53596;&#54540;&#47551; &#50948;&#52824;(&#44536;&#47532;&#44256; &#53080;&#53584;&#52768;)&#45716; &#44060;&#48156; &#47784;&#46300;&#50640;&#49436; &#49892;&#54665; &#51473;&#51060; &#50500;&#45768;&#46972;&#47732; &#52880;&#49884;&#46112; &#44163;&#51060;&#45796;.
&#51221;&#47568;&#47196; &#47691;&#51652; &#47700;&#49464;&#46300;&#47484; &#51089;&#49457;&#54616;&#44256; &#49910;&#45796;&#47732; &#51060; &#51216;&#51012; &#47749;&#49900;&#54616;&#51088;.</p>

<a name='&%2349444;&%2351221;(Configuration)'></a>
<h2>&#49444;&#51221;(Configuration)</h2>

<p>&#47784;&#46304; &#54872;&#44221;&#50640;&#49436;, &#49884;&#51089;&#46112; &#46412;, &#54620;&#48264;&#47564; &#49892;&#54665;:</p>

<pre><code class="ruby">configure do
  # &#50741;&#49496; &#54616;&#45208; &#49444;&#51221;
  set :option, 'value'

  # &#50668;&#47084; &#50741;&#49496; &#49444;&#51221;
  set :a =&gt; 1, :b =&gt; 2

  # `set :option, true`&#50752; &#46041;&#51068;
  enable :option

  # `set :option, false`&#50752; &#46041;&#51068;
  disable :option

  # &#48660;&#47197;&#51004;&#47196; &#46041;&#51201;&#51064; &#49444;&#51221;&#51012; &#54624; &#49688;&#46020; &#51080;&#51020;
  set(:css_dir) { File.join(views, 'css') }
end
</code></pre>

<p>&#54872;&#44221;(RACK_ENV &#54872;&#44221; &#48320;&#49688;)&#51060; <code>:production</code>&#51068; &#46412;&#47564; &#49892;&#54665;:</p>

<pre><code class="ruby">configure :production do
  ...
end
</code></pre>

<p>&#54872;&#44221;&#51060; <code>:production</code> &#46608;&#45716; <code>:test</code>&#51068; &#46412; &#49892;&#54665;:</p>

<pre><code class="ruby">configure :production, :test do
  ...
end
</code></pre>

<p>&#51060;&#46308; &#50741;&#49496;&#51008; <code>settings</code>&#47484; &#53685;&#54644; &#51217;&#44540; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">configure do
  set :foo, 'bar'
end

get '/' do
  settings.foo? # =&gt; true
  settings.foo  # =&gt; 'bar'
  ...
end
</code></pre>

<a name='&%2344277;&%2344201;%20&%2348169;&%2350612;%20&%2349444;&%2351221;&%2354616;&%2344592;(Configuring%20attack%20protection)'></a>
<h3>&#44277;&#44201; &#48169;&#50612; &#49444;&#51221;&#54616;&#44592;(Configuring attack protection)</h3>

<p>Sinatra&#45716; <a href="https://github.com/rkh/rack-protection#readme">Rack::Protection</a>&#51012; &#49324;&#50857;&#54616;&#50668; 
&#51068;&#48152;&#51201;&#51064;, &#51068;&#50612;&#45216; &#49688; &#51080;&#45716; &#44277;&#44201;&#50640; &#45824;&#48708;&#54620;&#45796;. 
&#51060; &#48512;&#48516;&#51008; &#44036;&#45800;&#54616;&#44172; &#48708;&#54876;&#49457;&#49884;&#53420; &#49688; &#51080;&#45796;(&#49457;&#45733; &#54693;&#49345; &#54952;&#44284;&#47484; &#44032;&#51256;&#50732; &#44163;&#51060;&#45796;):</p>

<pre><code class="ruby">disable :protection
</code></pre>

<p>&#54616;&#45208;&#51032; &#48169;&#50612;&#52789;&#47564; &#49828;&#53429;&#54616;&#47140;&#47732;, &#50741;&#49496; &#54644;&#49884;&#50640; <code>protection</code>&#51012; &#49444;&#51221;&#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">set :protection, :except =&gt; :path_traversal
</code></pre>

<p>&#48169;&#50612;&#47561; &#50668;&#47084; &#44060;&#47484; &#48708;&#54876;&#49457;&#54616;&#47140;&#47732;, &#48176;&#50676;&#47196; &#51452;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">set :protection, :except =&gt; [:path_traversal, :session_hijacking]
</code></pre>

<a name='&%2344032;&%2345733;&%2354620;%20&%2349444;&%2351221;&%2346308;(Available%20Settings)'></a>
<h3>&#44032;&#45733;&#54620; &#49444;&#51221;&#46308;(Available Settings)</h3>

<dl>
<dt>absolute_redirects</dt>
  <dd>
    &#47564;&#50557; &#48708;&#54876;&#49457;&#51060;&#47732;, Sinatra&#45716; &#49345;&#45824;&#44221;&#47196; &#47532;&#45796;&#51060;&#47113;&#53944;&#47484; &#54728;&#50857;&#54624; &#44163;&#51060;&#51648;&#47564;,
    &#51060;&#47111;&#44172; &#46104;&#47732; Sinatra&#45716; &#45908; &#51060;&#49345; &#50724;&#51649; &#51208;&#45824;&#44221;&#47196; &#47532;&#45796;&#51060;&#47113;&#53944;&#47564; &#54728;&#50857;&#54616;&#44256; &#51080;&#45716;
    RFC 2616(HTTP 1.1)&#50640; &#50948;&#48176;&#46112; &#44163;&#51060;&#45796;.

    &#51201;&#51221;&#54616;&#44172; &#49444;&#51221;&#46104;&#51648; &#50506;&#51008; &#47532;&#48260;&#49828; &#54532;&#47197;&#49884; &#54616;&#50640;&#49436; &#50545;&#51012; &#49892;&#54665; &#51473;&#51060;&#46972;&#47732; &#54876;&#49457;&#54868;&#49884;&#53420; &#44163;.
    <tt>rul</tt> &#54764;&#54140;&#45716;, &#47564;&#50557; &#46160; &#48264;&#51704; &#47588;&#44060;&#48320;&#49688;&#47196; <tt>false</tt>&#47484; &#51204;&#45804;&#54616;&#51648;&#47564; &#50506;&#45716;&#45796;&#47732;,
    &#50668;&#51204;&#55176; &#51208;&#45824;&#44221;&#47196; URL&#51012; &#49373;&#49457;&#54624; &#44163;&#51076;&#50640; &#50976;&#51032;&#54616;&#51088;.

   &#44592;&#48376;&#44050;&#51008; &#48708;&#54876;&#49457;.
  </dd>

  <dt>add_charsets</dt>
  <dd>
    <tt>content_type</tt>&#44032; &#47928;&#51088;&#49483; &#51221;&#48372;&#50640; &#51088;&#46041;&#51004;&#47196; &#52628;&#44032;&#54616;&#44172; &#46112; &#47560;&#51076;(mime) &#53440;&#51077;.

     &#51060; &#50741;&#49496;&#51008; &#50724;&#48260;&#46972;&#51060;&#46377;&#54616;&#51648; &#47568;&#44256; &#52628;&#44032;&#54644;&#50556; &#54620;&#45796;:

    <tt>settings.add_charsets 
  </tt>
</dd>

  <dt>app_file<dt>
  </dt>
</dt>
<dd>&#47700;&#51064; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#54028;&#51068;&#51032; &#44221;&#47196;. &#54532;&#47196;&#51229;&#53944; &#47336;&#53944;&#50752; &#48624;, &#44536;&#47532;&#44256; public &#54260;&#45908;, &#51064;&#46972;&#51064; &#53596;&#54540;&#47551;&#51012;
   &#54028;&#50501;&#54624; &#46412; &#49324;&#50857;&#46120;.</dd>

  <dt>bind<dt>
  </dt>
</dt>
<dd>&#48148;&#51064;&#46300;&#54624; IP &#51452;&#49548;(&#44592;&#48376;&#44050;: 0.0.0.0).
   &#50724;&#51649; &#48716;&#53944;&#51064;(built-in) &#49436;&#48260;&#50640;&#49436;&#47564; &#49324;&#50857;&#46120;.</dd>

  <dt>default_encoding</dt>
  <dd>&#47784;&#47484; &#46412; &#44032;&#51221;&#54624; &#51064;&#53076;&#46377;
   (&#44592;&#48376;&#44050;&#51008; <tt>"utf-8"</tt>).</dd>

  <dt>dump_errors</dt>
  <dd>&#47196;&#44536;&#47196; &#50640;&#47084; &#52636;&#47141;.</dd>

  <dt>environment</dt>
  <dd>&#54788;&#51116; &#54872;&#44221;, &#44592;&#48376;&#44050;&#51008; <tt>ENV['RACK_ENV']</tt> &#46608;&#45716; &#50508; &#49688; &#50630;&#51012; &#44221;&#50864; "development".</dd>

  <dt>logging</dt>
  <dd>&#47196;&#44144;(logger) &#49324;&#50857;.</dd>

  <dt>lock</dt>
  <dd>&#47588; &#50836;&#52397;&#50640; &#44152;&#52432; &#51104;&#44552;(lock)&#51012; &#49444;&#51221;. Ruby &#54532;&#47196;&#49464;&#49828; &#45817; &#50836;&#52397;&#51012; &#46041;&#49884;&#50640; &#54624; &#44221;&#50864;.

   &#50545;&#51060; &#49828;&#47112;&#46300; &#50504;&#51204;(thread-safe)&#51060; &#50500;&#45768;&#46972;&#47732; &#54876;&#49457;&#54868;&#49884;&#53420; &#44163;.
   &#44592;&#48376;&#44050;&#51008; &#48708;&#54876;&#49457;.</dd>

  <dt>method_override</dt>
  <dd>put/delete&#47484; &#51648;&#50896;&#54616;&#51648; &#50506;&#45716; &#48652;&#46972;&#50864;&#51200;&#50640;&#49436; put/delete &#54268;&#51012; &#54728;&#50857;&#54616;&#45716;
   <tt>_method</tt> &#44860;&#49688; &#49324;&#50857;.</dd>

  <dt>port</dt>
  <dd>&#51217;&#49549; &#54252;&#53944;. &#48716;&#53944;&#51064; &#49436;&#48260;&#50640;&#49436;&#47564; &#49324;&#50857;&#46120;.</dd>

  <dt>prefixed_redirects</dt>
  <dd>&#51208;&#45824;&#44221;&#47196;&#44032; &#51452;&#50612;&#51648;&#51648; &#50506;&#51008; &#47532;&#45796;&#51060;&#47113;&#53944;&#50640; <tt>request.script_name</tt>&#47484;
   &#49341;&#51077;&#54624;&#51648; &#50668;&#48512;. &#51060;&#47111;&#44172; &#54616;&#47732; <tt>redirect '/foo'</tt>&#45716; <tt>redirect to('/foo')</tt>
   &#52376;&#47100; &#46041;&#51089;. &#44592;&#48376;&#44050;&#51008; &#48708;&#54876;&#49457;.</dd>

  <dt>protection</dt>
  <dd>&#50937; &#44277;&#44201; &#48169;&#50612;&#47484; &#54876;&#49457;&#54868;&#49884;&#53420; &#44148;&#51648; &#50668;&#48512;. &#50948;&#51032; &#48372;&#50504; &#49465;&#49496; &#52280;&#51312;.</dd>

  <dt>public_folder</dt>
  <dd>public &#54028;&#51068;&#51060; &#51228;&#44277;&#46112; &#54260;&#45908;&#51032; &#44221;&#47196;.
   static &#54028;&#51068; &#51228;&#44277;&#51060; &#54876;&#49457;&#54868;&#46108; &#44221;&#50864;&#47564; &#49324;&#50857;&#46120;(&#50500;&#47000; <tt>static</tt>&#52280;&#51312;).
   &#47564;&#50557; &#49444;&#51221;&#51060; &#50630;&#51004;&#47732; <tt>app_file</tt>&#47196;&#48512;&#53552; &#50976;&#52628;&#46120;.</dd>

  <dt>reload_templates</dt>
  <dd>&#50836;&#52397; &#44036;&#50640; &#53596;&#54540;&#47551;&#51012; &#47532;&#47196;&#46300;(reload)&#54624; &#44148;&#51648; &#50668;&#48512;.
   &#44060;&#48156; &#47784;&#46300;&#50640;&#49436;&#45716; &#54876;&#49457;&#46120;.</dd>

  <dt>root</dt>
  <dd>&#54532;&#47196;&#51229;&#53944; &#47336;&#53944; &#46356;&#47113;&#53552;&#47532; &#44221;&#47196;. 
   &#49444;&#51221;&#51060; &#50630;&#51004;&#47732; <tt>app_file</tt> &#49444;&#51221;&#51004;&#47196;&#48512;&#53552; &#50976;&#52628;&#46120;.</dd>

  <dt>raise_errors</dt>
  <dd>&#50696;&#50808; &#48156;&#49373;(&#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51008; &#51473;&#45800;&#46120;).
   &#44592;&#48376;&#44050;&#51008; <tt>environment</tt>&#44032; <tt>"test"</tt>&#51064; &#44221;&#50864;&#45716; &#54876;&#49457;, &#44536;&#47111;&#51648; &#50506;&#51004;&#47732; &#48708;&#54876;&#49457;.</dd>

  <dt>run</dt>
  <dd>&#54876;&#49457;&#54868;&#46104;&#47732;, Sinatra&#44032; &#50937;&#49436;&#48260;&#51032; &#49884;&#51089;&#51012; &#54648;&#46308;&#47553;.
   rackup &#46608;&#45716; &#45796;&#47480; &#46020;&#44396;&#47484; &#49324;&#50857;&#54616;&#45716; &#44221;&#50864;&#46972;&#47732; &#54876;&#49457;&#54868;&#49884;&#53412;&#51648; &#47568; &#44163;.</dd>

  <dt>running</dt>
  <dd>&#48716;&#53944;&#51064; &#49436;&#48260;&#44032; &#49892;&#54665; &#51473;&#51064;&#51648;?
   &#51060; &#49444;&#51221;&#51008; &#48320;&#44221;&#54616;&#51648; &#47568; &#44163;!</dd>

  <dt>server</dt>
  <dd>
    &#48716;&#53944;&#51064; &#49436;&#48260;&#47196; &#49324;&#50857;&#54624; &#49436;&#48260; &#46608;&#45716; &#49436;&#48260; &#47785;&#47197;.
    &#44592;&#48376;&#44050;&#51008; ['thin', 'mongrel', 'webrick']&#51060;&#47728; &#49692;&#49436;&#45716; &#50864;&#49440;&#49692;&#50948;&#47484; &#51032;&#48120;.
  </dd>
  <dt>sessions</dt>
  <dd>
<tt>Rack::Session::Cookie</tt>&#47484; &#49324;&#50857;&#54620; &#53216;&#53412; &#44592;&#48152; &#49464;&#49496; &#54876;&#49457;&#54868;.
   &#48372;&#45796; &#51088;&#49464;&#54620; &#51221;&#48372;&#45716; '&#49464;&#49496; &#49324;&#50857;&#54616;&#44592;' &#52280;&#51312;.</dd>

  <dt>show_exceptions</dt>
  <dd>&#50696;&#50808; &#48156;&#49373; &#49884;&#50640; &#48652;&#46972;&#50864;&#51200;&#50640; &#49828;&#53469; &#52628;&#51201;&#51012; &#48372;&#51076;.
   &#44592;&#48376;&#44050;&#51008; <tt>environment</tt>&#44032; <tt>"development"</tt>&#51064; &#44221;&#50864;&#45716; &#54876;&#49457;, &#45208;&#47672;&#51648;&#45716; &#48708;&#54876;&#49457;.
  </dd>

  <dt>static</dt>
  <dd>Sinatra&#44032; &#51221;&#51201;(static) &#54028;&#51068;&#51012; &#54648;&#46308;&#47553;&#54624; &#51648; &#50668;&#48512;.
   &#51060; &#44592;&#45733;&#51012; &#49688;&#54665;&#54616;&#45716; &#49436;&#48260;&#47484; &#49324;&#50857;&#54616;&#45716; &#44221;&#50864;&#46972;&#47732; &#48708;&#54876;&#49457;&#49884;&#53420; &#44163;.
   &#48708;&#54876;&#49457;&#49884;&#53412;&#47732; &#49457;&#45733;&#51060; &#50732;&#46972;&#44048;.
   &#44592;&#48376;&#44050;&#51008; &#51204;&#53685;&#51201; &#48169;&#49885;&#50640;&#49436;&#45716; &#54876;&#49457;, &#47784;&#46280; &#50545;&#50640;&#49436;&#45716; &#48708;&#54876;&#49457;.</dd>

  <dt>static_cache_control</dt>
  <dd>Sinatra&#44032; &#51221;&#51201; &#54028;&#51068;&#51012; &#51228;&#44277;&#54616;&#45716; &#44221;&#50864;, &#51025;&#45813;&#50640; <tt>Cache-Control</tt> &#54756;&#45908;&#47484; &#52628;&#44032;&#54624; &#46412; &#49444;&#51221;.
   <tt>cache_control</tt> &#54764;&#54140;&#47484; &#49324;&#50857;.
   &#44592;&#48376;&#44050;&#51008; &#48708;&#54876;&#49457;.
   &#50668;&#47084; &#44050;&#51012; &#49444;&#51221;&#54624; &#44221;&#50864;&#45716; &#47749;&#49884;&#51201;&#51004;&#47196; &#48176;&#50676;&#51012; &#49324;&#50857;&#54624; &#44163;:
   <tt>set :static_cache_control, [:public, :max_age =&gt; 300]</tt>
  </dd>

  <dt>threaded</dt>
  <dd>
<tt>true</tt>&#47196; &#49444;&#51221;&#54616;&#47732;, Thin&#51060; &#50836;&#52397;&#51012; &#52376;&#47532;&#54616;&#45716;&#45936; &#51080;&#50612; <tt>EventMachine.defer</tt>&#47484; &#49324;&#50857;&#54616;&#46020;&#47197; &#54632;. </dd>

  <dt>views</dt>
  <dd>&#48624; &#54260;&#45908; &#44221;&#47196;. &#49444;&#51221;&#54616;&#51648; &#50506;&#51008; &#44221;&#50864; <tt>app_file</tt>&#47196;&#48512;&#53552; &#50976;&#52628;&#46120;.</dd>
</dl>
<a name='&%2354872;&%2344221;(Environments)'></a>
<h2>&#54872;&#44221;(Environments)</h2>

<p>&#54872;&#44221;&#51008; <code>RACK_ENV</code> &#54872;&#44221; &#48320;&#49688;&#47484; &#53685;&#54644;&#49436;&#46020; &#49444;&#51221;&#54624; &#49688; &#51080;&#45796;. &#44592;&#48376;&#44050;&#51008; "development"&#45796;.
&#51060; &#47784;&#46300;&#50640;&#49436;, &#47784;&#46304; &#53596;&#54540;&#47551;&#46308;&#51008; &#50836;&#52397; &#44036;&#50640; &#47532;&#47196;&#46300;&#46108;&#45796;.
&#53945;&#48324;&#54620; <code>not_found</code> &#50752; <code>error</code> &#54648;&#46308;&#47084;&#44032; &#51060; &#54872;&#44221;&#50640; &#49444;&#52824;&#46104;&#44592; &#46412;&#47928;&#50640;
&#48652;&#46972;&#50864;&#51200;&#50640;&#49436; &#49828;&#53469; &#52628;&#51201;&#51012; &#48380; &#49688; &#51080;&#51012; &#44163;&#51060;&#45796;.
<code>"production"</code>&#44284; <code>"test"</code>&#50640;&#49436;&#45716; &#53596;&#54540;&#47551;&#51008; &#52880;&#49884;&#46104;&#45716; &#44172; &#44592;&#48376;&#44050;&#51060;&#45796;.</p>

<p>&#45796;&#47480; &#54872;&#44221;&#51004;&#47196; &#49892;&#54665;&#49884;&#53412;&#47140;&#47732; <code>-e</code>&#50741;&#49496;&#51012; &#49324;&#50857;&#54616;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">ruby my_app.rb -e [ENVIRONMENT]
</code></pre>

<p>&#54788;&#51116; &#49444;&#51221;&#46108; &#54872;&#44221;&#51060; &#47924;&#50631;&#51064;&#51648; &#44160;&#49324;&#54616;&#44592; &#50948;&#54644; &#49324;&#51204; &#51221;&#51032;&#46108; <code>development?</code>, <code>test?</code> &#48143; <code>production?</code> &#47700;&#49436;&#46300;&#47484;
&#49324;&#50857;&#54624; &#49688; &#51080;&#45796;.</p>

<a name='&%2350696;&%2350808;%20&%2352376;&%2347532;(Error%20Handling)'></a>
<h2>&#50696;&#50808; &#52376;&#47532;(Error Handling)</h2>

<p>&#50696;&#50808; &#54648;&#46308;&#47084;&#45716; &#46972;&#50864;&#53552; &#48143; &#49324;&#51204; &#54596;&#53552;&#50752; &#46041;&#51068;&#54620; &#47589;&#46973;&#50640;&#49436; &#49892;&#54665;&#46108;&#45796;. 
&#51060; &#47568;&#51064;&#51593;, &#51060;&#46308;&#51060; &#51228;&#44277;&#54616;&#45716; &#47784;&#46304; &#44163;&#46308;&#51012; &#49324;&#50857;&#54624; &#49688; &#51080;&#45796;&#45716; &#47568;&#51060;&#45796;. &#50696;&#47484; &#46308;&#47732; <code>haml</code>,
<code>erb</code>, <code>halt</code>, &#46321;&#46321;.</p>

<a name='&%2352286;&%2351012;%20&%2349688;%20&%2350630;&%2351020;(Not%20Found)'></a>
<h3>&#52286;&#51012; &#49688; &#50630;&#51020;(Not Found)</h3>

<p><code>Sinatra::NotFound</code> &#50696;&#50808;&#44032; &#48156;&#49373;&#54616;&#44144;&#45208; &#46608;&#45716; &#51025;&#45813;&#51032; &#49345;&#53468; &#53076;&#46300;&#44032; 404&#46972;&#47732;,
<code>not_found</code> &#54648;&#46308;&#47084;&#44032; &#54840;&#52636;&#46108;&#45796;:</p>

<pre><code class="ruby">not_found do
  '&#50500;&#47924; &#44275;&#50640;&#46020; &#52286;&#51012; &#49688; &#50630;&#49845;&#45768;&#45796;.'
end
</code></pre>

<a name='&%2350724;&%2347448;(Error)'></a>
<h3>&#50724;&#47448;(Error)</h3>

<p><code>error</code> &#54648;&#46308;&#47084;&#45716; &#46972;&#50864;&#53552; &#46608;&#45716; &#54596;&#53552;&#50640;&#49436; &#47952;&#46304; &#50724;&#47448;&#44032; &#48156;&#49373;&#54624; &#44221;&#50864;&#50640; &#54840;&#52636;&#46108;&#45796;.
&#50696;&#50808; &#44061;&#52404;&#45716; Rack &#48320;&#49688; <code>sinatra.error</code>&#47196;&#48512;&#53552; &#50619;&#51012; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">error do
  '&#44256;&#50557;&#54620; &#50724;&#47448;&#44032; &#48156;&#49373;&#54664;&#44400;&#50836; - ' + env['sinatra.error'].name
end
</code></pre>

<p>&#49324;&#50857;&#51088; &#51221;&#51032; &#50724;&#47448;:</p>

<pre><code class="ruby">error MyCustomError do
  '&#47924;&#49832; &#51068;&#51060; &#49373;&#44220;&#45208;&#47732;&#50836;...' + env['sinatra.error'].message
end
</code></pre>

<p>&#44536;&#47088; &#45796;&#51020;, &#51060; &#50724;&#47448;&#44032; &#48156;&#49373;&#54616;&#47732;:</p>

<pre><code class="ruby">get '/' do
  raise MyCustomError, '&#50504;&#51339;&#51008; &#51068;'
end
</code></pre>

<p>&#45796;&#51020;&#51012; &#50619;&#45716;&#45796;:</p>

<pre><code class="ruby">&#47924;&#49832; &#51068;&#51060; &#49373;&#44220;&#45264;&#47732;&#50836;... &#50504;&#51339;&#51008; &#51068;
</code></pre>

<p>&#46608;&#45716;, &#49345;&#53468; &#53076;&#46300;&#50640; &#45824;&#54644; &#50724;&#47448; &#54648;&#46308;&#47084;&#47484; &#49444;&#52824;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">error 403 do
  '&#50529;&#49464;&#49828;&#44032; &#44552;&#51648;&#46120;'
end

get '/secret' do
  403
end
</code></pre>

<p>Or a range:</p>

<pre><code class="ruby">error 400..510 do
  '&#50612;&#51060;&#53216;'
end
</code></pre>

<p>Sinatra&#45716; &#44060;&#48156; &#54872;&#44221;&#50640;&#49436; &#46041;&#51089;&#54624; &#44221;&#50864;&#50640; 
&#53945;&#48324;&#54620; <code>not_found</code> &#50752; <code>error</code> &#54648;&#46308;&#47084;&#47484; &#49444;&#52824;&#54620;&#45796;.</p>

<a name='Rack%20&%2348120;&%2346308;&%2350920;&%2350612;(Rack%20Middleware)'></a>
<h2>Rack &#48120;&#46308;&#50920;&#50612;(Rack Middleware)</h2>

<p>Sinatra&#45716; <a href="http://rack.rubyforge.org/">Rack</a> &#50948;&#50640;&#49436; &#46041;&#51089;&#54616;&#47728;,
Rack&#51008; &#47336;&#48708; &#50937; &#54532;&#47112;&#51076;&#50892;&#53356;&#47484; &#50948;&#54620; &#52572;&#49548;&#54620;&#51032; &#54364;&#51456; &#51064;&#53552;&#54168;&#51060;&#49828;&#51060;&#45796;.
Rack&#51060; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#44060;&#48156;&#51088;&#46308;&#50640;&#44172; &#51228;&#44277;&#54616;&#45716; &#44032;&#51109; &#55141;&#48120;&#47196;&#50868; &#44592;&#45733; &#51473; &#54616;&#45208;&#44032; &#48148;&#47196;
"&#48120;&#46308;&#50920;&#50612;(middleware)"&#50640; &#45824;&#54620; &#51648;&#50896;&#51060;&#47728;, &#50668;&#44592;&#49436; &#48120;&#46308;&#50920;&#50612;&#46976; &#49436;&#48260;&#50752; &#50668;&#47084;&#48516;&#51032; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#49324;&#51060;&#50640;
&#50948;&#52824;&#54616;&#47732;&#49436; HTTP &#50836;&#52397;/&#51025;&#45813;&#51012; &#47784;&#45768;&#53552;&#47553;&#54616;&#44144;&#45208;/&#46608;&#45716; &#51312;&#51089;&#54632;&#51004;&#47196;&#50024;
&#45796;&#50577;&#54620; &#50976;&#54805;&#51032; &#44277;&#53685; &#44592;&#45733;&#51012; &#51228;&#44277;&#54616;&#45716; &#52980;&#54252;&#45324;&#53944;(component)&#45796;.</p>

<p>Sinatra&#45716; &#53681;&#47112;&#48296;&#51032; <code>use</code> &#47700;&#49436;&#46300;&#47484; &#49324;&#50857;&#54616;&#50668; Rack &#48120;&#46308;&#50920;&#50612;&#51032; &#54028;&#51060;&#54532;&#46972;&#51064;&#51012; &#47564;&#46300;&#45716; &#51068;&#51012; &#49885;&#51008; &#51453; &#47673;&#44592;&#47196; &#47564;&#46304;&#45796;:</p>

<pre><code class="ruby">require 'sinatra'
require 'my_custom_middleware'

use Rack::Lint
use MyCustomMiddleware

get '/hello' do
  'Hello World'
end
</code></pre>

<p><code>use</code>&#51032; &#51032;&#48120;&#45716; <a href="http://rack.rubyforge.org/doc/classes/Rack/Builder.html%5D">Rack::Builder</a> DSL
(rackup &#54028;&#51068;&#50640;&#49436; &#44032;&#51109; &#47566;&#51060; &#49324;&#50857;&#46108;&#45796;)&#50640;&#49436; &#51221;&#51032;&#54620; &#44163;&#46308;&#44284; &#46041;&#51068;&#54616;&#45796;.
&#50696;&#47484; &#46308;&#50612;, <code>use</code> &#47700;&#49436;&#46300;&#45716; &#48660;&#47197; &#49104; &#50500;&#45768;&#46972; &#50668;&#47084; &#44060;&#51032;/&#44032;&#48320;&#51201;&#51064; &#51064;&#51088;&#46020; &#48155;&#45716;&#45796;:</p>

<pre><code class="ruby">use Rack::Auth::Basic do |username, password|
  username == 'admin' &amp;&amp; password == 'secret'
end
</code></pre>

<p>Rack&#51008; &#47196;&#44613;, &#46356;&#48260;&#44613;, URL &#46972;&#50864;&#54021;, &#51064;&#51613;, &#44536;&#47532;&#44256; &#49464;&#49468; &#54648;&#46308;&#47553;&#51012; &#50948;&#54620; &#45796;&#50577;&#54620; &#54364;&#51456; &#48120;&#46308;&#50920;&#50612;&#47196; &#48516;&#49328;&#46104;&#50612; &#51080;&#45796;.
Sinatra&#45716; &#49444;&#51221;&#50640; &#44592;&#48152;&#54616;&#50668; &#51060;&#46308; &#52980;&#54252;&#45324;&#53944;&#46308; &#51473; &#47566;&#51008; &#44163;&#46308;&#51012; &#51088;&#46041;&#51004;&#47196; &#49324;&#50857;&#54616;&#47728;,
&#46384;&#46972;&#49436; &#50668;&#47084;&#48516;&#51008; &#51068;&#48152;&#51201;&#51004;&#47196;&#45716; <code>use</code>&#47484; &#47749;&#49884;&#51201;&#51004;&#47196; &#49324;&#50857;&#54624; &#54596;&#50836;&#44032; &#50630;&#51012; &#44163;&#51060;&#45796;.</p>

<p>&#50976;&#50857;&#54620; &#48120;&#46308;&#50920;&#50612;&#46308;&#51008; 
<a href="https://github.com/rack/rack/tree/master/lib/rack">rack</a>,
<a href="https://github.com/rack/rack-contrib#readme">rack-contrib</a>,
<a href="http://coderack.org/">CodeRack</a> &#46608;&#45716;
<a href="https://github.com/rack/rack/wiki/List-of-Middleware">Rack wiki</a>
&#50640;&#49436; &#52286;&#51012; &#49688; &#51080;&#45796;.</p>

<a name='&%2353580;&%2349828;&%2354021;(Testing)'></a>
<h2>&#53580;&#49828;&#54021;(Testing)</h2>

<p>Sinatra &#53580;&#49828;&#53944;&#45716; Rack &#44592;&#48152; &#50612;&#46496;&#54620; &#53580;&#49828;&#54021; &#46972;&#51060;&#48652;&#47084;&#47532; &#46608;&#45716; &#54532;&#47112;&#51076;&#50892;&#53356;&#47484; &#49324;&#50857;&#54616;&#50668;&#46020; &#51089;&#49457;&#54624; &#49688; &#51080;&#45796;.
<a href="http://rdoc.info/github/brynary/rack-test/master/frames">Rack::Test</a>&#47484; &#44428;&#51109;&#54620;&#45796;:</p>

<pre><code class="ruby">require 'my_sinatra_app'
require 'test/unit'
require 'rack/test'

class MyAppTest &lt; Test::Unit::TestCase
  include Rack::Test::Methods

  def app
    Sinatra::Application
  end

  def test_my_default
    get '/'
    assert_equal 'Hello World!', last_response.body
  end

  def test_with_params
    get '/meet', :name =&gt; 'Frank'
    assert_equal 'Hello Frank!', last_response.body
  end

  def test_with_rack_env
    get '/', {}, 'HTTP_USER_AGENT' =&gt; 'Songbird'
    assert_equal "You're using Songbird!", last_response.body
  end
end
</code></pre>

<a name='Sinatra::Base%20-%20&%2348120;&%2346308;&%2350920;&%2350612;(Middleware),%20&%2346972;&%2351060;&%2348652;&%2347084;&%2347532;(Libraries),%20&%2344536;&%2347532;&%2344256;%20&%2347784;&%2346280;%20&%2350545;(Modular%20Apps)'></a>
<h2>Sinatra::Base - &#48120;&#46308;&#50920;&#50612;(Middleware), &#46972;&#51060;&#48652;&#47084;&#47532;(Libraries), &#44536;&#47532;&#44256; &#47784;&#46280; &#50545;(Modular Apps)</h2>

<p>&#53681;&#47112;&#48296;&#50640;&#49436; &#50545;&#51012; &#51221;&#51032;&#54616;&#45716; &#44163;&#51008; &#47560;&#51060;&#53356;&#47196; &#50545;(micro-app) &#49688;&#51456;&#50640;&#49436;&#45716; &#51096; &#46041;&#51089;&#54616;&#51648;&#47564;,
Rack &#48120;&#46308;&#50920;&#50612;&#45208;, Rails &#47700;&#53448;(metal) &#46608;&#45716; &#49436;&#48260; &#52980;&#54252;&#45324;&#53944;&#47484; &#44054;&#45716; &#44036;&#45800;&#54620; &#46972;&#51060;&#48652;&#47084;&#47532;, &#46608;&#45716; &#45908; &#45208;&#50500;&#44032;
Sinatra &#51061;&#49828;&#53584;&#49496;(extension) &#44057;&#51008; &#51116;&#49324;&#50857; &#44032;&#45733;&#54620; &#52980;&#54252;&#45324;&#53944;&#46308;&#51012; &#44396;&#52629;&#54624; &#44221;&#50864;&#50640;&#45716; &#49900;&#44033;&#54620; &#50557;&#51216;&#51012; &#44032;&#51652;&#45796;.
&#53681;&#47112;&#48296;&#51008; &#47560;&#51060;&#53356;&#47196; &#50545; &#49828;&#53440;&#51068;&#51032; &#49444;&#51221;&#51012; &#44032;&#51221;&#54620;&#45796;(&#51593;, &#54616;&#45208;&#51032; &#45800;&#51068; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#54028;&#51068;&#44284; 
<code>./public</code> &#48143; <code>./views</code> &#46356;&#47113;&#53552;&#47532;, &#47196;&#44613;, &#50696;&#50808; &#49345;&#49464; &#54168;&#51060;&#51648; &#46321;&#46321;).
&#51060;&#44172; &#48148;&#47196; <code>Sinatra::Base</code>&#44032; &#54596;&#50836;&#54620; &#48512;&#48516;&#51060;&#45796;:</p>

<pre><code class="ruby">require 'sinatra/base'

class MyApp &lt; Sinatra::Base
  set :sessions, true
  set :foo, 'bar'

  get '/' do
    'Hello world!'
  end
end
</code></pre>

<p><code>Sinatra::Base</code> &#49436;&#48652;&#53364;&#47000;&#49828;&#50640;&#49436; &#49324;&#50857;&#44032;&#45733;&#54620; &#47700;&#49436;&#46300;&#46308;&#51008; &#53681;&#47112;&#48296; DSL&#47196; &#51217;&#44540; &#44032;&#45733;&#54620; &#44163;&#46308;&#44284; &#46041;&#51068;&#54616;&#45796;.
&#45824;&#48512;&#48516;&#51032; &#53681;&#47112;&#48296; &#50545;&#46308;&#51060; &#45796;&#51020; &#46160; &#44032;&#51648;&#47564; &#49688;&#51221;&#54616;&#47732; <code>Sinatra::Base</code> &#52980;&#54252;&#45324;&#53944;&#47196; &#48320;&#54872; &#44032;&#45733;&#54616;&#45796;:</p>

<ul>
<li>&#54028;&#51068;&#51008; <code>sinatra</code>&#44032; &#50500;&#45772; <code>sinatra/base</code>&#47484; require&#54644;&#50556; &#54616;&#47728;, &#44536;&#47111;&#51648; &#50506;&#51004;&#47732;
&#47784;&#46304; Sinatra&#51032; DSL &#47700;&#49436;&#46300;&#46308;&#51060; &#47700;&#51064; &#45348;&#51076;&#49828;&#54168;&#51060;&#49828;&#50640; &#48520;&#47084;&#51648;&#44172; &#46108;&#45796;.</li>
<li>&#50545;&#51032; &#46972;&#50864;&#53552;, &#50696;&#50808; &#54648;&#46308;&#47084;, &#54596;&#53552;, &#44536;&#47532;&#44256; &#50741;&#49496;&#46308;&#51012; <code>Sinatra::Base</code>&#51032; &#49436;&#48652;&#53364;&#47000;&#49828;&#50640; &#46168; &#44163;.</li>
</ul>
<p><code>Sinatra::Base</code>&#45716; &#48712;&#49436;&#54032;(blank slate)&#51060;&#45796;.
&#48716;&#53944;&#51064; &#49436;&#48260;&#47484; &#48708;&#47215;&#54620; &#45824;&#48512;&#48516;&#51032; &#50741;&#49496;&#46308;&#51060; &#44592;&#48376;&#44050;&#51004;&#47196; &#44732;&#51256; &#51080;&#45796;.
&#44032;&#45733;&#54620; &#50741;&#49496;&#46308;&#44284; &#44536; &#51089;&#46041;&#50640; &#45824;&#54620; &#49345;&#49464;&#45716; <a href="http://sinatra.github.com/configuration.html">Options and Configuration</a>&#51012; &#52280;&#51312;&#54624; &#44163;.</p>

<a name='&%2347784;&%2346280;(Modular)%20vs.%20&%2351204;&%2353685;&%2351201;%20&%2348169;&%2349885;(Classic%20Style)'></a>
<h3>&#47784;&#46280;(Modular) vs. &#51204;&#53685;&#51201; &#48169;&#49885;(Classic Style)</h3>

<p>&#51068;&#48152;&#51201;&#51064; &#48127;&#51020;&#44284;&#45716; &#48152;&#45824;&#47196;, &#51204;&#53685;&#51201; &#48169;&#49885;&#50640; &#51096;&#47803;&#46108; &#48512;&#48516;&#51008; &#50630;&#45796;.
&#50668;&#47084;&#48516; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#50640; &#47582;&#45796;&#47732;, &#47784;&#46280; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51004;&#47196; &#51204;&#54872;&#54624; &#54596;&#50836;&#45716; &#50630;&#45796;.</p>

<p>&#47784;&#46280; &#48169;&#49885;&#51060; &#50500;&#45772; &#51204;&#53685;&#51201; &#48169;&#49885;&#51012; &#49324;&#50857;&#54624; &#44221;&#50864; &#49373;&#44592;&#45716; &#51452;&#46108; &#45800;&#51216;&#51008; &#47336;&#48708; &#54532;&#47196;&#49464;&#49828; &#45817;
&#50724;&#51649; &#54616;&#45208;&#51032; Sinatra &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#47564; &#49324;&#50857;&#54624; &#49688; &#51080;&#45796;&#45716; &#51216;&#51060;&#45796;.
&#47564;&#50557; &#54616;&#45208; &#51060;&#49345;&#51012; &#49324;&#50857;&#54624; &#44228;&#54925;&#51060;&#46972;&#47732;, &#47784;&#46280; &#48169;&#49885;&#51004;&#47196; &#51204;&#54872;&#54616;&#46972;.
&#47784;&#46280; &#48169;&#49885;&#44284; &#51204;&#53685;&#51201; &#48169;&#49885;&#51012; &#49438;&#50612;&#50416;&#51648; &#47803;&#54624; &#51060;&#50976;&#45716; &#50630;&#45796;.</p>

<p>&#54616;&#45208;&#51032; &#48169;&#49885;&#50640;&#49436; &#45796;&#47480; &#44163;&#51004;&#47196; &#51204;&#54872;&#54624; &#44221;&#50864;&#50640;&#45716;, &#44592;&#48376;&#44050; &#49444;&#51221;&#51032; &#48120;&#47896;&#54620; &#52264;&#51060;&#50640; &#50976;&#51032;&#54644;&#50556; &#54620;&#45796;:</p>

<p>&#49444;&#51221;&#51204;&#53685;&#51201; &#48169;&#49885;   &#47784;&#46280; &#48169;&#49885;</p>

<table>
<tr>
<th>Setting</th>
    <th>Classic</th>
    <th>Modular</th>
  </tr>
<tr>
<td>app_file</td>
    <td>sinatra&#47484; &#47196;&#46377;&#54616;&#45716; &#54028;&#51068;</td>
    <td>Sinatra::Base&#47484; &#49436;&#48652;&#53364;&#47000;&#49905;&#54620; &#54028;&#51068;</td>
  </tr>
<tr>
<td>run</td>
    <td>$0 == app_file</td>
    <td>false</td>
  </tr>
<tr>
<td>logging</td>
    <td> true</td>
    <td>false</td>
  </tr>
<tr>
<td>method_override</td>
    <td>true</td>
    <td>false</td>
  </tr>
<tr>
<td>inline_templates</td>
    <td>true</td>
    <td>false</td>
  </tr>
<tr>
<td>static</td>
    <td>true</td>
    <td>false</td>
  </tr>
</table>
<a name='&%2347784;&%2346280;%20&%2350528;&%2354540;&%2347532;&%2352992;&%2351060;&%2349496;(Modular%20Application)%20&%2351228;&%2344277;&%2354616;&%2344592;'></a>
<h3>&#47784;&#46280; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;(Modular Application) &#51228;&#44277;&#54616;&#44592;</h3>

<p>&#47784;&#46280; &#50545;&#51012; &#49884;&#51089;&#54616;&#45716; &#46160; &#44032;&#51648; &#51068;&#48152;&#51201;&#51064; &#50741;&#49496;&#51060; &#51080;&#45716;&#45936;, 
&#44277;&#44201;&#51201;&#51004;&#47196; <code>run!</code>&#51004;&#47196; &#49884;&#51089;&#54616;&#44144;&#45208;:</p>

<pre><code class="ruby"># my_app.rb
require 'sinatra/base'

class MyApp &lt; Sinatra::Base
  # ... &#50668;&#44592;&#50640; &#50545; &#53076;&#46300;&#44032; &#50728;&#45796; ...

  # &#47336;&#48708; &#54028;&#51068;&#51060; &#51649;&#51217; &#49892;&#54665;&#46112; &#44221;&#50864;&#50640; &#49436;&#48260;&#47484; &#49884;&#51089;
  run! if app_file == $0
end
</code></pre>

<p>&#45796;&#51020;&#44284; &#44057;&#51060; &#49884;&#51089;:</p>

<pre><code class="ruby">ruby my_app.rb
</code></pre>

<p>&#46608;&#45716; <code>config.ru</code>&#50752; &#54632;&#44760; &#49324;&#50857;&#54616;&#47728;, &#51060; &#44221;&#50864;&#45716; &#50612;&#46496;&#54620; Rack &#54648;&#46308;&#47084;&#46972;&#46020; &#49324;&#50857;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby"># config.ru
require './my_app'
run MyApp
</code></pre>

<p>&#49892;&#54665;:</p>

<pre><code class="ruby">rackup -p 4567
</code></pre>

<a name='config.ru&%2347196;%20&%2351204;&%2353685;&%2351201;%20&%2348169;&%2349885;&%2351032;%20&%2350528;&%2354540;&%2347532;&%2352992;&%2351060;&%2349496;%20&%2349324;&%2350857;&%2354616;&%2344592;'></a>
<h3>config.ru&#47196; &#51204;&#53685;&#51201; &#48169;&#49885;&#51032; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#49324;&#50857;&#54616;&#44592;</h3>

<p>&#50545; &#54028;&#51068;&#51012; &#45796;&#51020;&#44284; &#44057;&#51060; &#51089;&#49457;&#54616;&#44256;:</p>

<pre><code class="ruby"># app.rb
require 'sinatra'

get '/' do
  'Hello world!'
end
</code></pre>

<p>&#45824;&#51025;&#54616;&#45716; <code>config.ru</code>&#45716; &#45796;&#51020;&#44284; &#44057;&#51060; &#51089;&#49457;:</p>

<pre><code class="ruby">require './app'
run Sinatra::Application
</code></pre>

<a name='&%2350616;&%2351228;%20config.ru&%2347484;%20&%2349324;&%2350857;&%2354624;&%2344620;?'></a>
<h3>&#50616;&#51228; config.ru&#47484; &#49324;&#50857;&#54624;&#44620;?</h3>

<p>Good signs you probably want to use a <code>config.ru</code>:
&#45796;&#51020;&#51008; <code>config.ru</code>&#47484; &#49324;&#50857;&#54616;&#44172; &#46112; &#51669;&#54980;&#46308;&#51060;&#45796;:</p>

<ul>
<li>&#45796;&#47480; Rack &#54648;&#46308;&#47084;(Passenger, Unicorn, Heroku, ...)&#47196; &#48176;&#54252;&#54616;&#44256;&#51088; &#54624; &#46412;.</li>
<li>&#54616;&#45208; &#51060;&#49345;&#51032; <code>Sinatra::Base</code> &#49436;&#48652;&#53364;&#47000;&#49828;&#47484; &#49324;&#50857;&#54616;&#44256;&#51088; &#54624; &#46412;.</li>
<li>Sinatra&#47484; &#52572;&#51333;&#51216;(endpoint)&#51060; &#50500;&#45768;&#46972;, &#50724;&#47196;&#51648; &#48120;&#46308;&#50920;&#50612;&#47196;&#47564; &#49324;&#50857;&#54616;&#44256;&#51088; &#54624; &#46412;.</li>
</ul>
<p><strong>&#47784;&#46280; &#48169;&#49885;&#51004;&#47196; &#51204;&#54872;&#54664;&#45796;&#45716; &#51060;&#50976;&#47564;&#51004;&#47196; <code>config.ru</code>&#47196; &#51204;&#54872;&#54624; &#54596;&#50836;&#45716; &#50630;&#51004;&#47728;,
&#46608;&#54620; <code>config.ru</code>&#47484; &#49324;&#50857;&#54620;&#45796;&#44256; &#54644;&#49436; &#47784;&#46280; &#48169;&#49885;&#51012; &#49324;&#50857;&#54644;&#50556; &#54616;&#45716; &#44163;&#46020; &#50500;&#45768;&#45796;.</strong></p>

<a name='Sinatra&%2347484;%20&%2348120;&%2346308;&%2350920;&%2350612;&%2347196;%20&%2349324;&%2350857;&%2354616;&%2344592;'></a>
<h3>Sinatra&#47484; &#48120;&#46308;&#50920;&#50612;&#47196; &#49324;&#50857;&#54616;&#44592;</h3>

<p>Sinatra&#50640;&#49436; &#45796;&#47480; Rack &#48120;&#46308;&#50920;&#50612;&#47484; &#49324;&#50857;&#54624; &#49688; &#51080;&#51012; &#49104; &#50500;&#45768;&#46972;,
&#47784;&#46304; Sinatra &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51008; &#49692;&#52264;&#47196; &#50612;&#46496;&#54620; Rack &#51333;&#52265;&#51216; &#50526;&#50640; &#48120;&#46308;&#50920;&#50612;&#47196; &#52628;&#44032;&#46112; &#49688; &#51080;&#45796;.
&#51060; &#51333;&#52265;&#51216;&#51008; &#45796;&#47480; Sinatra &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51060; &#46112; &#49688;&#46020; &#51080;&#44256;, 
&#46608;&#45716; Rack &#44592;&#48152;&#51032; &#50612;&#46496;&#54620; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;(Rails/Ramaze/Camping/...)&#51060;&#46972;&#46020; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">require 'sinatra/base'

class LoginScreen &lt; Sinatra::Base
  enable :sessions

  get('/login') { haml :login }

  post('/login') do
if params[:name] == 'admin' &amp;&amp; params[:password] == 'admin'
  session['user_name'] = params[:name]
else
  redirect '/login'
end
  end
end

class MyApp &lt; Sinatra::Base
  # &#48120;&#46308;&#50920;&#50612;&#45716; &#49324;&#51204; &#54596;&#53552;&#48372;&#45796; &#50526;&#49436; &#49892;&#54665;&#46120;
  use LoginScreen

  before do
unless session['user_name']
  halt "&#51217;&#44540; &#44144;&#48512;&#46120;, &lt;a href='/login'&gt;&#47196;&#44536;&#51064;&lt;/a&gt; &#54616;&#49464;&#50836;."
end
  end

  get('/') { "Hello #{session['user_name']}." }
end
</code></pre>

<a name='&%2346041;&%2351201;&%2351064;%20&%2350528;&%2354540;&%2347532;&%2352992;&%2351060;&%2349496;%20&%2349373;&%2349457;(Dynamic%20Application%20Creation)'></a>
<h3>&#46041;&#51201;&#51064; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#49373;&#49457;(Dynamic Application Creation)</h3>

<p>&#44221;&#50864;&#50640; &#46384;&#46972;&#49440; &#50612;&#46500; &#49345;&#49688;&#50640; &#54624;&#45817;&#54616;&#51648; &#50506;&#44256; &#47088;&#53440;&#51076;&#50640;&#49436; &#49352; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#46308;&#51012; &#49373;&#49457;&#54616;&#44256; &#49910;&#51012; &#49688;&#46020; &#51080;&#51012; &#44163;&#51064;&#45936;,
&#51060; &#46412;&#45716; <code>Sinatra.new</code>&#47484; &#50416;&#47732; &#46108;&#45796;:</p>

<pre><code class="ruby">require 'sinatra/base'
my_app = Sinatra.new { get('/') { "hi" } }
my_app.run!
</code></pre>

<p>&#51060;&#44163;&#51008; &#49440;&#53469;&#51201; &#51064;&#51088;&#47196; &#49345;&#49549;&#54624; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51012; &#48155;&#45716;&#45796;:</p>

<pre><code class="ruby"># config.ru
require 'sinatra/base'

controller = Sinatra.new do
  enable :logging
  helpers MyHelpers
end

map('/a') do
  run Sinatra.new(controller) { get('/') { 'a' } }
end

map('/b') do
  run Sinatra.new(controller) { get('/') { 'b' } }
end
</code></pre>

<p>&#51060;&#44163;&#51008; Sintra &#51061;&#49828;&#53584;&#49496;&#51012; &#53580;&#49828;&#54021;&#54616;&#44144;&#45208; &#46608;&#45716; &#50668;&#47084;&#48516;&#51032; &#46972;&#51060;&#48652;&#47084;&#47532;&#50640;&#49436; Sinatra&#47484; &#49324;&#50857;&#54624; &#44221;&#50864;&#50640; &#53945;&#55176; &#50976;&#50857;&#54616;&#45796;.</p>

<p>&#46608;&#54620; &#51060; &#48169;&#48277;&#51008; Sinatra&#47484; &#48120;&#46308;&#50920;&#50612;&#47196; &#49324;&#50857;&#54616;&#45716; &#44163;&#51012; &#50500;&#51452; &#49789;&#44172; &#47564;&#46308;&#50612; &#51456;&#45796;:</p>

<pre><code class="ruby">require 'sinatra/base'

use Sinatra do
  get('/') { ... }
end

run RailsProject::Application
</code></pre>

<a name='&%2348276;&%2350948;(Scopes)&%2350752;%20&%2348148;&%2351064;&%2346377;(Binding)'></a>
<h2>&#48276;&#50948;(Scopes)&#50752; &#48148;&#51064;&#46377;(Binding)</h2>

<p>&#54788;&#51116; &#50612;&#45712; &#48276;&#50948;&#50640; &#51080;&#45712;&#45264;&#44032; &#50612;&#46500; &#47700;&#49436;&#46300;&#50752; &#48320;&#49688;&#47484; &#49324;&#50857;&#54624; &#49688; &#51080;&#45716;&#51648;&#47484; &#44208;&#51221;&#54620;&#45796;.</p>

<a name='&%2350528;&%2354540;&%2347532;&%2352992;&%2351060;&%2349496;/&%2353364;&%2347000;&%2349828;%20&%2348276;&%2350948;'></a>
<h3>&#50528;&#54540;&#47532;&#52992;&#51060;&#49496;/&#53364;&#47000;&#49828; &#48276;&#50948;</h3>

<p>&#47784;&#46304; Sinatra &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51008; <code>Sinatra::Base</code>&#51032; &#49436;&#48652;&#53364;&#47000;&#49828;&#50640; &#45824;&#51025;&#46108;&#45796;.
&#47564;&#50557; &#53681;&#47112;&#48296; DSL (<code>require 'sinatra'</code>)&#51012; &#49324;&#50857;&#54620;&#45796;&#47732;,
&#51060; &#53364;&#47000;&#49828;&#45716; <code>Sinatra::Application</code>&#51060;&#47728;, &#44536;&#47111;&#51648; &#50506;&#51012; &#44221;&#50864;&#46972;&#47732; &#50668;&#47084;&#48516;&#51060; &#47749;&#49884;&#51201;&#51004;&#47196; &#49373;&#49457;&#54620; 
&#44536; &#49436;&#48652;&#53364;&#47000;&#49828;&#44032; &#46108;&#45796;. &#53364;&#47000;&#49828; &#47112;&#48296;&#50640;&#49436;&#45716; <code>get</code> &#51060;&#45208; <code>before</code> &#44057;&#51008; &#47700;&#49436;&#46300;&#46308;&#51012; &#44032;&#51648;&#45208;,
<code>request</code> &#44061;&#52404;&#45208; <code>session</code> &#50640;&#45716; &#51217;&#44540;&#54624; &#49688; &#50630;&#45796;. &#50780;&#45264;&#47732; &#47784;&#46304; &#50836;&#52397;&#50640; &#45824;&#54644;
&#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#53364;&#47000;&#49828;&#45716; &#50724;&#51649; &#54616;&#45208;&#51060;&#44592; &#46412;&#47928;&#51060;&#45796;.</p>

<p><code>set</code>&#51004;&#47196; &#49373;&#49457;&#54620; &#50741;&#49496;&#46308;&#51008; &#53364;&#47000;&#49828; &#47112;&#48296;&#51032; &#47700;&#49436;&#46300;&#46308;&#51060;&#45796;:</p>

<pre><code class="ruby">class MyApp &lt; Sinatra::Base
  # &#51060;&#48400;&#50836;, &#51200;&#45716; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#48276;&#50948;&#50640; &#51080;&#45796;&#44396;&#50836;!
  set :foo, 42
  foo # =&gt; 42

  get '/foo' do
# &#51200;&#44592;&#50836;, &#51204; &#51060;&#51228; &#45908; &#51060;&#49345; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#48276;&#50948; &#49549;&#50640; &#51080;&#51648; &#50506;&#50500;&#50836;!
  end
end
</code></pre>

<p>&#45796;&#51020; &#49549;&#50640; &#51080;&#51012; &#46412; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#48276;&#50948;&#44032; &#46108;&#45796;:</p>

<ul>
<li>&#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#53364;&#47000;&#49828; &#48376;&#47928;</li>
<li>&#54869;&#51109;&#51004;&#47196; &#51221;&#51032;&#46108; &#47700;&#49436;&#46300;</li>
<li>
<code>helpers</code>&#47196; &#51204;&#45804;&#46108; &#48660;&#47197;</li>
<li>
<code>set</code>&#51032; &#44050;&#51004;&#47196; &#49324;&#50857;&#46108; Procs/blocks</li>
<li>
<code>Sinatra.new</code>&#47196; &#51204;&#45804;&#46108; &#48660;&#47197;</li>
</ul>
<p>&#48276;&#50948; &#44061;&#52404; (&#53364;&#47000;&#49828;)&#45716; &#45796;&#51020;&#44284; &#44057;&#51060; &#51217;&#44540;&#54624; &#49688; &#51080;&#45796;:</p>

<ul>
<li>configure &#48660;&#47197;&#51004;&#47196; &#51204;&#45804;&#46108; &#44061;&#52404;&#47484; &#53685;&#54644;(<code>configure { |c| ... }</code>)</li>
<li>&#50836;&#52397; &#48276;&#50948; &#45236;&#50640;&#49436; <code>settings</code>
</li>
</ul>
<a name='&%2350836;&%2352397;/&%2351064;&%2349828;&%2353556;&%2349828;%20&%2348276;&%2350948;'></a>
<h3>&#50836;&#52397;/&#51064;&#49828;&#53556;&#49828; &#48276;&#50948;</h3>

<p>&#47588; &#50836;&#52397;&#47560;&#45796;, &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#53364;&#47000;&#49828;&#51032; &#49352; &#51064;&#49828;&#53556;&#49828;&#44032; &#49373;&#49457;&#46104;&#44256; &#47784;&#46304; &#54648;&#46308;&#47084; &#48660;&#47197;&#51008; &#44536; &#48276;&#50948; &#45236;&#50640;&#49436; &#49892;&#54665;&#46108;&#45796;.
&#51060; &#48276;&#50948; &#45236;&#50640;&#49436; &#50668;&#47084;&#48516;&#51008; <code>request</code> &#50752; <code>session</code> &#44061;&#52404;&#50640; &#51217;&#44540;&#54616;&#44144;&#45208; 
<code>erb</code> &#45208; <code>haml</code> &#44057;&#51008; &#47116;&#45908;&#47553; &#47700;&#49436;&#46300;&#47484; &#54840;&#52636;&#54624; &#49688; &#51080;&#45796;.
&#50836;&#52397; &#48276;&#50948; &#45236;&#50640;&#49436; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#48276;&#50948;&#45716; <code>settings</code> &#54764;&#54140;&#47484; &#53685;&#54644; &#51217;&#44540; &#44032;&#45733;&#54616;&#45796;:</p>

<pre><code class="ruby">class MyApp &lt; Sinatra::Base
  # &#51060;&#48400;&#50836;, &#51204; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496; &#48276;&#50948;&#50640; &#51080;&#45796;&#44396;&#50836;!
  get '/define_route/:name' do
# '/define_route/:name'&#51032; &#50836;&#52397; &#48276;&#50948;
@value = 42

settings.get("/#{params[:name]}") do
  # "/#{params[:name]}"&#51032; &#50836;&#52397; &#48276;&#50948;
  @value # =&gt; nil (&#46041;&#51068;&#54620; &#50836;&#52397;&#51060; &#50500;&#45784;)
end

"&#46972;&#50864;&#53552;&#44032; &#51221;&#51032;&#46120;!"
  end
end
</code></pre>

<p>&#45796;&#51020; &#49549;&#50640; &#51080;&#51012; &#46412; &#50836;&#52397; &#48276;&#50948; &#48148;&#51064;&#46377;&#51060; &#46108;&#45796;:</p>

<ul>
<li>get/head/post/put/delete/options &#48660;&#47197;</li>
<li>before/after &#54596;&#53552;</li>
<li>&#54764;&#54140;(helper) &#47700;&#49436;&#46300;</li>
<li>&#53596;&#54540;&#47551;/&#48624;</li>
</ul>
<a name='&%2350948;&%2351076;%20&%2348276;&%2350948;(Delegation%20Scope)'></a>
<h3>&#50948;&#51076; &#48276;&#50948;(Delegation Scope)</h3>

<p>&#50948;&#51076; &#48276;&#50948;(delegation scope)&#45716; &#47700;&#49436;&#46300;&#47484; &#45800;&#49692;&#55176; &#53364;&#47000;&#49828; &#48276;&#50948;&#47196; &#48372;&#45240;&#45796;(forward).
&#44536;&#47111;&#51648;&#47564;, 100% &#53364;&#47000;&#49828; &#48276;&#50948;&#52376;&#47100; &#50880;&#51649;&#51060;&#51652; &#50506;&#45716;&#45936;, &#50780;&#45264;&#47732; &#53364;&#47000;&#49828; &#48148;&#51064;&#46377;&#51012; &#44054;&#51648; &#50506;&#44592; &#46412;&#47928;&#51060;&#45796;.
&#50724;&#51649; &#47749;&#49884;&#51201;&#51004;&#47196; &#50948;&#51076;(delegation) &#54364;&#49884;&#46108; &#47700;&#49436;&#46300;&#46308;&#47564; &#49324;&#50857; &#44032;&#45733;&#54616;&#47728; 
&#46608;&#54620; &#53364;&#47000;&#49828; &#48276;&#50948;&#50752; &#48320;&#49688;/&#49345;&#53468;&#47484; &#44277;&#50976;&#54616;&#51648; &#50506;&#45716;&#45796; (&#50976;&#51032;: <code>self</code>&#44032; &#45796;&#47476;&#45796;).
<code>Sinatra::Delegator.delegate :method_name</code>&#51012; &#54840;&#52636;&#54616;&#50668; &#47700;&#49436;&#46300; &#50948;&#51076;&#51012; &#47749;&#49884;&#51201;&#51004;&#47196; &#52628;&#44032;&#54624; &#49688; &#51080;&#45796;.</p>

<p>&#45796;&#51020; &#49549;&#50640; &#51080;&#51012; &#46412; &#50948;&#51076; &#48276;&#50948; &#48148;&#51064;&#46377;&#51012; &#44054;&#45716;&#45796;:</p>

<ul>
<li>&#53681;&#47112;&#48296; &#48148;&#51064;&#46377;, <code>require "sinatra"</code>&#47484; &#54620; &#44221;&#50864;</li>
<li>
<code>Sinatra::Delegator</code> &#48121;&#49828;&#51064;&#51004;&#47196; &#54869;&#51109;&#46108; &#44061;&#52404;</li>
</ul>
<p>&#51649;&#51217; &#53076;&#46300;&#47484; &#49332;&#54196;&#48372;&#44600; &#48148;&#46976;&#45796;: 
<a href="https://github.com/sinatra/sinatra/blob/ca06364/lib/sinatra/base.rb#L1609-1633">Sinatra::Delegator &#48121;&#49828;&#51064;</a>
&#53076;&#46300;&#45716; <a href="https://github.com/sinatra/sinatra/blob/ca06364/lib/sinatra/main.rb#L28-30">&#47700;&#51064; &#44061;&#52404;&#47484; &#54869;&#51109;&#54620; &#44163;</a>&#51060;&#45796;.</p>

<a name='&%2347749;&%2347161;&%2354665;(Command%20Line)'></a>
<h2>&#47749;&#47161;&#54665;(Command Line)</h2>

<p>Sinatra &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51008; &#51649;&#51217; &#49892;&#54665;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">ruby myapp.rb [-h] [-x] [-e ENVIRONMENT] [-p PORT] [-o HOST] [-s HANDLER]
</code></pre>

<p>&#50741;&#49496;&#46308;:</p>

<pre><code>-h # &#46020;&#50880;&#47568;
-p # &#54252;&#53944; &#49444;&#51221; (&#44592;&#48376;&#44050;&#51008; 4567)
-o # &#54840;&#49828;&#53944; &#49444;&#51221; (&#44592;&#48376;&#44050;&#51008; 0.0.0.0)
-e # &#54872;&#44221; &#49444;&#51221; (&#44592;&#48376;&#44050;&#51008; development)
-s # rack &#49436;&#48260;/&#54648;&#46308;&#47084; &#51648;&#51221; (&#44592;&#48376;&#44050;&#51008; thin)
-x # mutex &#51104;&#44552; &#53020;&#44592; (&#44592;&#48376;&#44050;&#51008; off)
</code></pre>

<a name='&%2350836;&%2344396;&%2349324;&%2354637;(Requirement)'></a>
<h2>&#50836;&#44396;&#49324;&#54637;(Requirement)</h2>

<p>&#45796;&#51020;&#51032; &#47336;&#48708; &#48260;&#51204;&#51008; &#44277;&#49885;&#51201;&#51004;&#47196; &#51648;&#50896;&#54620;&#45796;:</p>

<dl>
<dt> Ruby 1.8.7 </dt>
  <dd>1.8.7&#51008; &#50756;&#51204;&#54616;&#44172; &#51648;&#50896;&#46104;&#51648;&#47564;, &#44845; &#44536;&#47000;&#50556;&#54624; &#53945;&#48324;&#54620; &#51060;&#50976;&#44032; &#50630;&#45796;&#47732;, 
1.9.2&#47196; &#50629;&#44536;&#47112;&#51060;&#46300;&#54616;&#44144;&#45208; &#46608;&#45716; JRuby&#45208; Rubinius&#47196; &#51204;&#54872;&#54624; &#44163;&#51012; &#44428;&#51109;&#54620;&#45796;.
1.8.7&#50640; &#45824;&#54620; &#51648;&#50896;&#51008; Sinatra 2.0&#44284; Ruby 2.0 &#51060;&#51204;&#50640;&#45716; &#51473;&#45800;&#46104;&#51648; &#50506;&#51012; &#44163;&#51060;&#45796;.
&#46608;&#54620; &#44536;&#46412;&#46020;, &#50864;&#47532;&#45716; &#44228;&#49549; &#51648;&#50896;&#54624; &#44163;&#51060;&#45796;.
<b>Ruby 1.8.6&#51008; &#45908;&#51060;&#49345; &#51648;&#50896;&#46104;&#51648; &#50506;&#45716;&#45796;.</b>
&#47564;&#50557; 1.8.6&#51004;&#47196; &#49892;&#54665;&#54616;&#47140; &#54620;&#45796;&#47732;, Sinatra 1.2&#47196; &#45796;&#50868;&#44536;&#47112;&#51060;&#46300;&#54616;&#46972;.
Sinatra 1.4.0&#51060; &#47540;&#47532;&#49828;&#46112; &#46412; &#44620;&#51648;&#45716; &#48260;&#44536; &#54589;&#49828;&#47484; &#48155;&#51012; &#49688; &#51080;&#51012; &#44163;&#51060;&#45796;.

</dd>
  <dt> Ruby 1.9.2 </dt>
  <dd>1.9.2&#45716; &#50756;&#51204;&#54616;&#44172; &#51648;&#50896;&#46104;&#47732; &#44428;&#51109;&#46108;&#45796;. Radius&#50752; Maraby&#45716; &#54788;&#51116; 1.9&#50752; &#54840;&#54872;&#46104;&#51648; &#50506;&#51020;&#50640; &#50976;&#51032;&#54616;&#46972;.
1.9.2p0&#51008;, Sinatra&#47484; &#49892;&#54665;&#54664;&#51012; &#46412; &#49464;&#44536;&#47676;&#53944; &#50724;&#47448;&#44032; &#48156;&#49373;&#54620;&#45796;&#44256; &#50508;&#47140;&#51256; &#51080;&#51004;&#45768; &#49324;&#50857;&#54616;&#51648; &#47568;&#46972;.
Ruby 1.9.4/2.0 &#47540;&#47532;&#49828;&#44620;&#51648;&#45716; &#51201;&#50612;&#46020; &#51648;&#50896;&#51012; &#44228;&#49549;&#54624; &#44163;&#51060;&#47728;,
&#52572;&#49888; 1.9 &#47540;&#47532;&#49828;&#50640; &#45824;&#54620; &#51648;&#50896;&#51008; Ruby &#53076;&#50612;&#54016;&#51060; &#51648;&#50896;&#54616;&#44256; &#51080;&#45716; &#54620; &#44228;&#49549; &#51648;&#50896;&#54624; &#44163;&#51060;&#45796;.

</dd>
  <dt> Ruby 1.9.3 </dt>
  <dd>1.9.3&#51008; &#50756;&#51204;&#54616;&#44172; &#51648;&#50896;&#46108;&#45796;. &#44536;&#47111;&#51648;&#47564; &#54532;&#47196;&#45909;&#49496;&#50640;&#49436;&#51032; &#49324;&#50857;&#51008;
&#48372;&#45796; &#49345;&#50948;&#51032; &#54056;&#52824; &#47112;&#48296;&#51060; &#47540;&#47532;&#49828;&#46112; &#46412;&#44620;&#51648; &#44592;&#45796;&#47532;&#44600; &#44428;&#51109;&#54620;&#45796;(&#54788;&#51116;&#45716; p0). 
&#51060;&#51204; &#48260;&#51204;&#50640;&#49436; 1.9.3&#51004;&#47196; &#51204;&#54872;&#54624; &#44221;&#50864; &#47784;&#46304; &#49464;&#49496;&#51060; &#47924;&#54952;&#54868;&#46108;&#45796;&#45716; &#51216;&#51012; &#50976;&#51032;&#54616;&#46972;.

</dd>
  <dt> Rubinius </dt>
  <dd>Rubinius&#45716; &#44277;&#49885;&#51201;&#51004;&#47196; &#51648;&#50896;&#46104;&#47728; (Rubinius &gt;= 1.2.4), &#47784;&#46304; &#53596;&#54540;&#47551; &#50616;&#50612;&#47484; &#54252;&#54632;&#54620; &#47784;&#46304; &#44163;&#46308;&#51060; &#51089;&#46041;&#54620;&#45796;.
&#51312;&#47564;&#44036; &#52636;&#49884;&#46112; 2.0 &#47540;&#47532;&#49828; &#50669;&#49884; &#51648;&#50896;&#54624; &#44163;&#51060;&#45796;.

</dd>
  <dt> JRuby </dt>
  <dd>JRuby&#45716; &#44277;&#49885;&#51201;&#51004;&#47196; &#51648;&#50896;&#46108;&#45796; (JRuby &gt;= 1.6.5). &#49436;&#46300; &#54028;&#54000; &#53596;&#54540;&#47551; &#46972;&#51060;&#48652;&#47084;&#47532;&#50752;&#51032; &#47928;&#51228;&#45716; &#50508;&#47140;&#51652; &#48148; &#50630;&#51648;&#47564;,
&#47564;&#50557; JRuby&#47484; &#49324;&#50857;&#54616;&#44592;&#47196; &#54664;&#45796;&#47732;, JRuby rack &#54648;&#46308;&#47084;&#47484; &#52286;&#50500;&#48372;&#44600; &#48148;&#46976;&#45796;.
Thin &#50937; &#49436;&#48260;&#45716; JRuby&#50640;&#49436; &#50756;&#51204;&#54616;&#44172; &#51648;&#50896;&#46104;&#51648; &#50506;&#45716;&#45796;.
JRuby&#51032; C &#54869;&#51109; &#51648;&#50896;&#51008; &#50500;&#51649; &#49892;&#54744; &#45800;&#44228;&#51060;&#47728;, RDiscount, Redcarpet &#48143; RedCloth&#44032; &#54788;&#51116;
&#51060; &#50689;&#54693;&#51012; &#48155;&#45716;&#45796;.
</dd>
</dl>
<p>&#46608;&#54620; &#50864;&#47532;&#45716; &#49352;&#47196; &#45208;&#50724;&#45716; &#47336;&#48708; &#48260;&#51204;&#51012; &#51452;&#49884;&#54620;&#45796;.</p>

<p>&#45796;&#51020; &#47336;&#48708; &#44396;&#54788;&#52404;&#46308;&#51008; &#44277;&#49885;&#51201;&#51004;&#47196; &#51648;&#50896;&#54616;&#51648; &#50506;&#51648;&#47564; 
&#50668;&#51204;&#55176; Sinatra&#47484; &#49892;&#54665;&#54624; &#49688; &#51080;&#45716; &#44163;&#51004;&#47196; &#50508;&#47140;&#51256; &#51080;&#45796;:</p>

<ul>
<li>JRuby&#50752; Rubinius &#50696;&#51204; &#48260;&#51204;</li>
<li>Ruby Enterprise Edition</li>
<li>MacRuby, Maglev, IronRuby</li>
<li>Ruby 1.9.0 &#48143; 1.9.1 (&#44536;&#47084;&#45208; &#51060; &#48260;&#51204;&#46308;&#51008; &#49324;&#50857;&#54616;&#51648; &#47568; &#44163;&#51012; &#44428;&#54632;)</li>
</ul>
<p>&#44277;&#49885;&#51201;&#51004;&#47196; &#51648;&#50896;&#54616;&#51648; &#50506;&#45716;&#45796;&#45716; &#44163;&#51032; &#51032;&#48120;&#45716; &#47924;&#50616;&#44032;&#44032; &#44536;&#51901;&#50640;&#49436;&#47564; &#51096;&#47803;&#46104;&#44256;
&#51648;&#50896;&#46104;&#45716; &#54540;&#47019;&#54268;&#50640;&#49436;&#45716; &#44536;&#47084;&#51648; &#50506;&#51012; &#44221;&#50864;, &#50864;&#47532;&#51032; &#47928;&#51228;&#44032; &#50500;&#45768;&#46972; &#44536;&#51901;&#51032; &#47928;&#51228;&#47196; &#44036;&#51452;&#54620;&#45796;&#45716; &#46907;&#51060;&#45796;.</p>

<p>&#46608;&#54620; &#50864;&#47532;&#45716; CI&#47484; ruby-head (&#44263; &#45208;&#50732; 2.0.0) &#44284; 1.9.4 &#48652;&#47004;&#52824;&#50640; &#47582;&#52656; &#49892;&#54665;&#54616;&#51648;&#47564;,
&#44228;&#49549;&#54644;&#49436; &#48320;&#54616;&#44256; &#51080;&#44592; &#46412;&#47928;&#50640; &#50500;&#47924; &#44163;&#46020; &#48372;&#51109;&#54624; &#49688;&#45716; &#50630;&#45796;. 
1.9.4p0&#50752; 2.0.0p0&#44032; &#51648;&#50896;&#46104;&#44600; &#44592;&#45824;&#54620;&#45796;.</p>

<p>Sinatra&#45716; &#49440;&#53469;&#54620; &#47336;&#48708; &#44396;&#54788;&#52404;&#44032; &#51648;&#50896;&#54616;&#45716; &#50612;&#46496;&#54620; &#50868;&#50689;&#52404;&#51228;&#50640;&#49436;&#46020; &#51089;&#46041;&#54644;&#50556; &#54620;&#45796;.</p>

<p>&#54788;&#51116; Cardinal, SmallRuby, BlueRuby &#46608;&#45716; 1.8.7 &#51060;&#51204;&#51032; &#47336;&#48708; &#48260;&#51204;&#50640;&#49436;&#45716; 
Sinatra&#47484; &#49892;&#54665;&#54624; &#49688; &#50630;&#51012; &#44163;&#51060;&#45796;.</p>

<a name='&%2352572;&%2349888;(The%20Bleeding%20Edge)'></a>
<h2>&#52572;&#49888;(The Bleeding Edge)</h2>

<p>Sinatra&#51032; &#44032;&#51109; &#52572;&#44540; &#53076;&#46300;&#47484; &#49324;&#50857;&#54616;&#44256;&#51088; &#54620;&#45796;&#47732;, 
&#50668;&#47084;&#48516; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51012; &#47560;&#49828;&#53552; &#48652;&#47004;&#52824;&#50640; &#47582;&#52656; &#49892;&#54665;&#54616;&#47732; &#46104;&#51648;&#47564;, &#45916; &#50504;&#51221;&#51201;&#51068; &#44163;&#51076;&#50640; &#48516;&#47749;&#54616;&#45796;.</p>

<p>&#46608;&#54620; &#50864;&#47532;&#45716; &#44032;&#45140; &#49324;&#51204;&#48176;&#54252;(prerelease) &#51244;&#51012; &#54392;&#49884;&#54616;&#44592; &#46412;&#47928;&#50640;, &#45796;&#51020;&#44284; &#44057;&#51060; &#54624; &#49688; &#51080;&#45796;</p>

<pre><code class="ruby">gem install sinatra --pre
</code></pre>

<p>&#52572;&#49888; &#44592;&#45733;&#46308;&#51012; &#50619;&#44592; &#50948;&#54644;&#49440;</p>

<a name='Bundler&%2347484;%20&%2349324;&%2350857;&%2354616;&%2350668;'></a>
<h3>Bundler&#47484; &#49324;&#50857;&#54616;&#50668;</h3>

<p>&#50668;&#47084;&#48516; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51012; &#52572;&#49888; Sinatra&#47196; &#49892;&#54665;&#54616;&#44256;&#51088; &#54620;&#45796;&#47732;, 
<a href="http://gembundler.com/">Bundler</a>&#47484; &#49324;&#50857;&#54624; &#44163;&#51012; &#44428;&#51109;&#54620;&#45796;.</p>

<p>&#50864;&#49440;, &#50500;&#51649; &#49444;&#52824;&#54616;&#51648; &#50506;&#50520;&#45796;&#47732; bundler&#47484; &#49444;&#52824;&#54620;&#45796;:</p>

<pre><code class="ruby">gem install bundler
</code></pre>

<p>&#44536;&#47088; &#45796;&#51020;, &#54532;&#47196;&#51229;&#53944; &#46356;&#47113;&#53552;&#47532;&#50640;&#49436;, <code>Gemfile</code>&#51012; &#54616;&#45208; &#47564;&#46304;&#45796;:</p>

<pre><code class="ruby">source :rubygems
gem 'sinatra', :git =&gt; "git://github.com/sinatra/sinatra.git"

# &#45796;&#47480; &#51032;&#51316;&#44288;&#44228;&#46308;
gem 'haml'# &#50696;&#47484; &#46308;&#50612;, haml&#51012; &#49324;&#50857;&#54620;&#45796;&#47732;
gem 'activerecord', '~&gt; 3.0'  # &#50500;&#47560;&#46020; ActiveRecord 3.x&#46020; &#54596;&#50836;&#54624; &#44163;
</code></pre>

<p>&#51060; &#49549;&#50640; &#50528;&#54540;&#47532;&#52992;&#51060;&#49496;&#51032; &#47784;&#46304; &#51032;&#51316;&#44288;&#44228;&#47484; &#45208;&#50676;&#54644;&#50556; &#54632;&#50640; &#50976;&#51032;&#54616;&#51088;.
&#44536;&#47111;&#51648;&#47564;, Sinatra&#44032; &#51649;&#51217;&#51201;&#51064; &#51032;&#51316;&#44288;&#44228;&#50640; &#51080;&#45716; &#44163;&#46308; (Rack&#44284; Tilt)&#51008; 
Bundler&#44032; &#51088;&#46041;&#51004;&#47196; &#52628;&#52636;&#54616;&#50668; &#52628;&#44032;&#54624; &#44163;&#51060;&#45796;.</p>

<p>&#51060;&#51228; &#50668;&#47084;&#48516;&#51008; &#45796;&#51020;&#44284; &#44057;&#51060; &#50545;&#51012; &#49892;&#54665;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">bundle exec ruby myapp.rb
</code></pre>

<a name='&%2351649;&%2351217;%20&%2354616;&%2344592;(Roll%20Your%20Own)'></a>
<h3>&#51649;&#51217; &#54616;&#44592;(Roll Your Own)</h3>

<p>&#47196;&#52972; &#53364;&#47200;(clone)&#51012; &#49373;&#49457;&#54620; &#45796;&#51020; <code>$LOAD_PATH</code>&#50640; <code>sinatra/lib</code> &#46356;&#47113;&#53552;&#47532;&#47484; &#51452;&#44256;
&#50668;&#47084;&#48516; &#50545;&#51012; &#49892;&#54665;&#54620;&#45796;:</p>

<pre><code class="ruby">cd myapp
git clone git://github.com/sinatra/sinatra.git
ruby -Isinatra/lib myapp.rb
</code></pre>

<p>&#51060;&#54980;&#50640; Sinatra &#49548;&#49828;&#47484; &#50629;&#45936;&#51060;&#53944;&#54616;&#47140;&#47732;:</p>

<pre><code class="ruby">cd myapp/sinatra
git pull
</code></pre>

<a name='&%2351204;&%2350669;&%2351004;&%2347196;%20&%2349444;&%2352824;(Install%20Globally)'></a>
<h3>&#51204;&#50669;&#51004;&#47196; &#49444;&#52824;(Install Globally)</h3>

<p>&#51244;&#51012; &#51649;&#51217; &#48716;&#46300;&#54624; &#49688; &#51080;&#45796;:</p>

<pre><code class="ruby">git clone git://github.com/sinatra/sinatra.git
cd sinatra
rake sinatra.gemspec
rake install
</code></pre>

<p>&#47564;&#50557; &#51244;&#51012; &#47336;&#53944;&#47196; &#49444;&#52824;&#54620;&#45796;&#47732;, &#47560;&#51648;&#47561; &#45800;&#44228;&#45716; &#45796;&#51020;&#44284; &#44057;&#51060; &#54644;&#50556; &#54620;&#45796;</p>

<pre><code class="ruby">sudo rake install
</code></pre>

<a name='&%2348260;&%2351200;&%2345789;(Versioning)'></a>
<h2>&#48260;&#51200;&#45789;(Versioning)</h2>

<p>Sinatra&#45716; <a href="http://semver.org/">&#49884;&#47592;&#54001; &#48260;&#51200;&#45789;Semantic Versioning</a>&#51012; &#51456;&#49688;&#54620;&#45796;.
SemVer &#48143; SemVerTag &#46168; &#45796; &#54644;&#45817;&#46108;.</p>

<a name='&%2345908;%20&%2351069;&%2351012;%20&%2344144;&%2347532;(Further%20Reading)'></a>
<h2>&#45908; &#51069;&#51012; &#44144;&#47532;(Further Reading)</h2>

<ul>
<li>
<a href="http://www.sinatrarb.com/">&#54532;&#47196;&#51229;&#53944; &#50937;&#49324;&#51060;&#53944;</a> - &#52628;&#44032; &#47928;&#49436;&#46308;, &#45684;&#49828;, &#44536;&#47532;&#44256; &#45796;&#47480; &#47532;&#49548;&#49828;&#46308;&#50640; &#45824;&#54620; &#47553;&#53356;.</li>
<li>
<a href="http://www.sinatrarb.com/contributing">&#44592;&#50668;&#54616;&#44592;</a> - &#48260;&#44536;&#47484; &#52286;&#50520;&#45208;&#50836;? &#46020;&#50880;&#51060; &#54596;&#50836;&#54620;&#44032;&#50836;? &#54056;&#52824;&#47484; &#54616;&#49512;&#45208;&#50836;?</li>
<li><a href="http://github.com/sinatra/sinatra/issues">&#51060;&#49800; &#53944;&#47000;&#52964;</a></li>
<li><a href="http://twitter.com/sinatra">&#53944;&#50948;&#53552;</a></li>
<li><a href="http://groups.google.com/group/sinatrarb/topics">Mailing List</a></li>
<li>
<a href="irc://chat.freenode.net/#sinatra">IRC: #sinatra</a> http://freenode.net </li>
<li>
<a href="http://sinatra-book.gittr.com">Sinatra Book</a> Cookbook &#53916;&#53664;&#47532;&#50620;</li>
<li>
<a href="http://recipes.sinatrarb.com/">Sinatra Recipes</a> &#52964;&#48036;&#45768;&#54000;&#44032; &#47564;&#46300;&#45716; &#47112;&#49884;&#54588;</li>
<li>http://rubydoc.info&#50640; &#51080;&#45716; <a href="http://rubydoc.info/gems/sinatra">&#52572;&#51333; &#47540;&#47532;&#49828;</a>
&#46608;&#45716; <a href="http://rubydoc.info/github/sinatra/sinatra">current HEAD</a>&#50640; &#45824;&#54620; API &#47928;&#49436;</li>
<li><a href="http://travis-ci.org/sinatra/sinatra">CI server</a></li>
</ul>
</body></html>
